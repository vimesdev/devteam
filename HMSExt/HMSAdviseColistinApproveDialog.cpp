#include "HMSAdviseColistinApproveDialog.h"
#include "GuiMainFrame.h"
static void _OnChidinh_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnChidinh_DYSelect();
}
static void _OnChidinh_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnChidinh_KDYSelect();
}
/*static void _OnChidinh_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnChidinh_lydoChange();
} */
/*static void _OnChidinh_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnChidinh_lydoSetfocus();} */ 
/*static void _OnChidinh_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnChidinh_lydoKillfocus();
} */
static int _OnChidinh_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnChidinh_lydoCheckValue();
} 
static void _OnNongdodich_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnNongdodich_DYSelect();
}
static void _OnNongdodich_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnNongdodich_KDYSelect();
}
/*static void _OnNongdodich_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNongdodich_lydoChange();
} */
/*static void _OnNongdodich_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNongdodich_lydoSetfocus();} */ 
/*static void _OnNongdodich_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNongdodich_lydoKillfocus();
} */
static int _OnNongdodich_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnNongdodich_lydoCheckValue();
} 
static void _OnLieunap_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieunap_DYSelect();
}
static void _OnLieunap_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieunap_KDYSelect();
}
/*static void _OnLieunap_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieunap_lydoChange();
} */
/*static void _OnLieunap_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieunap_lydoSetfocus();} */ 
/*static void _OnLieunap_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieunap_lydoKillfocus();
} */
static int _OnLieunap_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieunap_lydoCheckValue();
} 
static void _OnLieuduytri_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieuduytri_DYSelect();
}
static void _OnLieuduytri_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieuduytri_KDYSelect();
}
/*static void _OnLieuduytri_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieuduytri_lydoChange();
} */
/*static void _OnLieuduytri_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieuduytri_lydoSetfocus();} */ 
/*static void _OnLieuduytri_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieuduytri_lydoKillfocus();
} */
static int _OnLieuduytri_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieuduytri_lydoCheckValue();
} 
static void _OnLieukhidung_colistin_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieukhidung_colistin_DYSelect();
}
static void _OnLieukhidung_colistin_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieukhidung_colistin_KDYSelect();
}
/*static void _OnLieukhidung_colistin_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhidung_colistin_lydoChange();
} */
/*static void _OnLieukhidung_colistin_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhidung_colistin_lydoSetfocus();} */ 
/*static void _OnLieukhidung_colistin_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhidung_colistin_lydoKillfocus();
} */
static int _OnLieukhidung_colistin_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhidung_colistin_lydoCheckValue();
} 
static void _OnTenkhangsinhphoihop_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnTenkhangsinhphoihop_DYSelect();
}
static void _OnTenkhangsinhphoihop_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnTenkhangsinhphoihop_KDYSelect();
}
/*static void _OnTenkhangsinhphoihop_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnTenkhangsinhphoihop_lydoChange();
} */
/*static void _OnTenkhangsinhphoihop_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnTenkhangsinhphoihop_lydoSetfocus();} */ 
/*static void _OnTenkhangsinhphoihop_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnTenkhangsinhphoihop_lydoKillfocus();
} */
static int _OnTenkhangsinhphoihop_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnTenkhangsinhphoihop_lydoCheckValue();
} 
static void _OnLieukhangsinhphoihop_DYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieukhangsinhphoihop_DYSelect();
}
static void _OnLieukhangsinhphoihop_KDYSelectFnc(CWnd *pWnd){
	 ((CHMSAdviseColistinApproveDialog*)pWnd)->OnLieukhangsinhphoihop_KDYSelect();
}
/*static void _OnLieukhangsinhphoihop_lydoChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhangsinhphoihop_lydoChange();
} */
/*static void _OnLieukhangsinhphoihop_lydoSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhangsinhphoihop_lydoSetfocus();} */ 
/*static void _OnLieukhangsinhphoihop_lydoKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhangsinhphoihop_lydoKillfocus();
} */
static int _OnLieukhangsinhphoihop_lydoCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnLieukhangsinhphoihop_lydoCheckValue();
} 
/*static void _OnNoteChangeFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNoteChange();
} */
/*static void _OnNoteSetfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNoteSetfocus();} */ 
/*static void _OnNoteKillfocusFnc(CWnd *pWnd){
	((CHMSAdviseColistinApproveDialog *)pWnd)->OnNoteKillfocus();
} */
static int _OnNoteCheckValueFnc(CWnd *pWnd){
	return ((CHMSAdviseColistinApproveDialog *)pWnd)->OnNoteCheckValue();
} 
static void _OnSaveSelectFnc(CWnd *pWnd){
	CHMSAdviseColistinApproveDialog *pVw = (CHMSAdviseColistinApproveDialog *)pWnd;
	pVw->OnSaveSelect();
} 
static void _OnCloseSelectFnc(CWnd *pWnd){
	CHMSAdviseColistinApproveDialog *pVw = (CHMSAdviseColistinApproveDialog *)pWnd;
	pVw->OnCloseSelect();
} 
static int _OnAddHMSAdviseColistinApproveDialogFnc(CWnd *pWnd){
	 return ((CHMSAdviseColistinApproveDialog*)pWnd)->OnAddHMSAdviseColistinApproveDialog();
} 
static int _OnEditHMSAdviseColistinApproveDialogFnc(CWnd *pWnd){
	 return ((CHMSAdviseColistinApproveDialog*)pWnd)->OnEditHMSAdviseColistinApproveDialog();
} 
static int _OnDeleteHMSAdviseColistinApproveDialogFnc(CWnd *pWnd){
	 return ((CHMSAdviseColistinApproveDialog*)pWnd)->OnDeleteHMSAdviseColistinApproveDialog();
} 
static int _OnSaveHMSAdviseColistinApproveDialogFnc(CWnd *pWnd){
	 return ((CHMSAdviseColistinApproveDialog*)pWnd)->OnSaveHMSAdviseColistinApproveDialog();
} 
static int _OnCancelHMSAdviseColistinApproveDialogFnc(CWnd *pWnd){
	 return ((CHMSAdviseColistinApproveDialog*)pWnd)->OnCancelHMSAdviseColistinApproveDialog();
} 
CHMSAdviseColistinApproveDialog::CHMSAdviseColistinApproveDialog(CWnd *pParent, long nOrderId):
	CGuiDialog(pParent), m_nOrderId(nOrderId){

	m_nDlgWidth = 905;
	m_nDlgHeight = 325;
	SetDefaultValues();
}
CHMSAdviseColistinApproveDialog::~CHMSAdviseColistinApproveDialog(){
}
void CHMSAdviseColistinApproveDialog::OnCreateComponents(){
	m_wndDuocsylamsangBox.Create(this, _T("Dược sỹ lâm sàng"), 5, 5, 895, 240);
	m_wndChidinh_colistin.Create(this, _T("Chỉ định Colistin"), 10, 30, 165, 55);
	m_wndChidinh_DY.Create(this, _T("đồng ý"), 170, 30, 230, 55);
	m_wndChidinh_KDY.Create(this, _T("không đồng ý"), 235, 30, 335, 55);
	m_wndChidinh_lydoLabel.Create(this, _T("Lý do"), 340, 30, 420, 55);
	m_wndChidinh_lydo.Create(this,425, 30, 890, 55); 
	m_wndNongdodich_CSS.Create(this, _T("Nồng độ đích Css"), 10, 60, 165, 85);
	m_wndNongdodich_DY.Create(this, _T("đồng ý"), 170, 60, 230, 85);
	m_wndNongdodich_KDY.Create(this, _T("không đồng ý"), 235, 60, 335, 85);
	m_wndNongdodich_lydoLabel.Create(this, _T("Lý do"), 340, 60, 420, 85);
	m_wndNongdodich_lydo.Create(this,425, 60, 890, 85); 
	m_wndLieuNap.Create(this, _T("Liều nạp"), 10, 90, 165, 115);
	m_wndLieunap_DY.Create(this, _T("đồng ý"), 170, 90, 230, 115);
	m_wndLieunap_KDY.Create(this, _T("không đồng ý"), 235, 90, 335, 115);
	m_wndLieunap_lydoLabel.Create(this, _T("Lý do"), 340, 90, 420, 115);
	m_wndLieunap_lydo.Create(this,425, 90, 890, 115); 
	m_wndLieuduytri.Create(this, _T("Liều duy trì"), 10, 120, 165, 145);
	m_wndLieuduytri_DY.Create(this, _T("đồng ý"), 170, 120, 230, 145);
	m_wndLieuduytri_KDY.Create(this, _T("không đồng ý"), 235, 120, 335, 145);
	m_wndLieuduytri_lydoLabel.Create(this, _T("Lý do"), 340, 120, 420, 145);
	m_wndLieuduytri_lydo.Create(this,425, 120, 890, 145); 
	m_wndLieukhidung_colistin.Create(this, _T("Liều khí dung colistin"), 10, 150, 165, 175);
	m_wndLieukhidung_colistin_DY.Create(this, _T("đồng ý"), 170, 150, 230, 175);
	m_wndLieukhidung_colistin_KDY.Create(this, _T("không đồng ý"), 235, 150, 335, 175);
	m_wndLieukhidung_colistin_lydoLabel.Create(this, _T("Lý do"), 340, 150, 420, 175);
	m_wndLieukhidung_colistin_lydo.Create(this,425, 150, 890, 175); 
	m_wndTenkhangsinhphoihop.Create(this, _T("Tên kháng sinh phối hợp"), 10, 180, 165, 205);
	m_wndTenkhangsinhphoihop_DY.Create(this, _T("đồng ý"), 170, 180, 230, 205);
	m_wndTenkhangsinhphoihop_KDY.Create(this, _T("không đồng ý"), 235, 180, 335, 205);
	m_wndTenkhangsinhphoihop_lydoLabel.Create(this, _T("Lý do"), 340, 180, 420, 205);
	m_wndTenkhangsinhphoihop_lydo.Create(this,425, 180, 890, 205); 
	m_wndLieukhangsinhphoihop.Create(this, _T("Liều kháng sinh phối hợp"), 10, 210, 165, 235);
	m_wndLieukhangsinhphoihop_DY.Create(this, _T("đồng ý"), 170, 210, 230, 235);
	m_wndLieukhangsinhphoihop_KDY.Create(this, _T("không đồng ý"), 235, 210, 335, 235);
	m_wndLieukhangsinhphoihop_lydoLabel.Create(this, _T("Lý do"), 340, 210, 420, 235);
	m_wndLieukhangsinhphoihop_lydo.Create(this,425, 210, 890, 235); 
	m_wndNoteLabel.Create(this, _T("Note"), 10, 240, 165, 265);
	m_wndNote.Create(this,170, 240, 890, 290); 
	m_wndSave.Create(this, _T("&Save"), 730, 300, 810, 325);
	m_wndClose.Create(this, _T("&Close"), 815, 300, 895, 325);

}
void CHMSAdviseColistinApproveDialog::OnInitializeComponents(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	m_wndChidinh_lydo.SetLimitText(35);
	m_wndChidinh_lydo.SetCheckValue(true);
	m_wndNongdodich_lydo.SetLimitText(35);
	m_wndNongdodich_lydo.SetCheckValue(true);
	m_wndLieunap_lydo.SetLimitText(35);
	m_wndLieunap_lydo.SetCheckValue(true);
	m_wndLieuduytri_lydo.SetLimitText(35);
	m_wndLieuduytri_lydo.SetCheckValue(true);
	m_wndLieukhidung_colistin_lydo.SetLimitText(35);
	m_wndLieukhidung_colistin_lydo.SetCheckValue(true);
	m_wndTenkhangsinhphoihop_lydo.SetLimitText(35);
	m_wndTenkhangsinhphoihop_lydo.SetCheckValue(true);
	m_wndLieukhangsinhphoihop_lydo.SetLimitText(35);
	m_wndLieukhangsinhphoihop_lydo.SetCheckValue(true);

	m_hms_advise_Tbl.SetTableName(L"hms_advise_colistin_form");
	m_hms_advise_Tbl.AddField(L"ORDER_ID", dfLong);
	m_hms_advise_Tbl.AddField(L"USER_ID", dfText, 15);
	m_hms_advise_Tbl.AddField(L"CHIDINH_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"CHIDINH_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"CHIDINH_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"NONGDODICH_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"NONGDODICH_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"NONGDODICH_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"LIEUNAP_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUNAP_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUNAP_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"LIEUDUYTRI_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUDUYTRI_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUDUYTRI_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"LIEUKHIDUNG_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUKHIDUNG_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUKHIDUNG_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"TENKHANGSINH_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"TENKHANGSINH_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"TENKHANGSINH_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"LIEUKHANGSINH_DY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUKHANGSINH_KDY", dfText, 1);
	m_hms_advise_Tbl.AddField(L"LIEUKHANGSINH_LYDO", dfText, 254);
	m_hms_advise_Tbl.AddField(L"GHICHU", dfText, 1024);


}
void CHMSAdviseColistinApproveDialog::OnSetWindowEvents(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	m_wndChidinh_DY.SetEvent(WE_CLICK, _OnChidinh_DYSelectFnc);
	m_wndChidinh_KDY.SetEvent(WE_CLICK, _OnChidinh_KDYSelectFnc);
	//m_wndChidinh_lydo.SetEvent(WE_CHANGE, _OnChidinh_lydoChangeFnc);
	//m_wndChidinh_lydo.SetEvent(WE_SETFOCUS, _OnChidinh_lydoSetfocusFnc);
	//m_wndChidinh_lydo.SetEvent(WE_KILLFOCUS, _OnChidinh_lydoKillfocusFnc);
	m_wndChidinh_lydo.SetEvent(WE_CHECKVALUE, _OnChidinh_lydoCheckValueFnc);
	m_wndNongdodich_DY.SetEvent(WE_CLICK, _OnNongdodich_DYSelectFnc);
	m_wndNongdodich_KDY.SetEvent(WE_CLICK, _OnNongdodich_KDYSelectFnc);
	//m_wndNongdodich_lydo.SetEvent(WE_CHANGE, _OnNongdodich_lydoChangeFnc);
	//m_wndNongdodich_lydo.SetEvent(WE_SETFOCUS, _OnNongdodich_lydoSetfocusFnc);
	//m_wndNongdodich_lydo.SetEvent(WE_KILLFOCUS, _OnNongdodich_lydoKillfocusFnc);
	m_wndNongdodich_lydo.SetEvent(WE_CHECKVALUE, _OnNongdodich_lydoCheckValueFnc);
	m_wndLieunap_DY.SetEvent(WE_CLICK, _OnLieunap_DYSelectFnc);
	m_wndLieunap_KDY.SetEvent(WE_CLICK, _OnLieunap_KDYSelectFnc);
	//m_wndLieunap_lydo.SetEvent(WE_CHANGE, _OnLieunap_lydoChangeFnc);
	//m_wndLieunap_lydo.SetEvent(WE_SETFOCUS, _OnLieunap_lydoSetfocusFnc);
	//m_wndLieunap_lydo.SetEvent(WE_KILLFOCUS, _OnLieunap_lydoKillfocusFnc);
	m_wndLieunap_lydo.SetEvent(WE_CHECKVALUE, _OnLieunap_lydoCheckValueFnc);
	m_wndLieuduytri_DY.SetEvent(WE_CLICK, _OnLieuduytri_DYSelectFnc);
	m_wndLieuduytri_KDY.SetEvent(WE_CLICK, _OnLieuduytri_KDYSelectFnc);
	//m_wndLieuduytri_lydo.SetEvent(WE_CHANGE, _OnLieuduytri_lydoChangeFnc);
	//m_wndLieuduytri_lydo.SetEvent(WE_SETFOCUS, _OnLieuduytri_lydoSetfocusFnc);
	//m_wndLieuduytri_lydo.SetEvent(WE_KILLFOCUS, _OnLieuduytri_lydoKillfocusFnc);
	m_wndLieuduytri_lydo.SetEvent(WE_CHECKVALUE, _OnLieuduytri_lydoCheckValueFnc);
	m_wndLieukhidung_colistin_DY.SetEvent(WE_CLICK, _OnLieukhidung_colistin_DYSelectFnc);
	m_wndLieukhidung_colistin_KDY.SetEvent(WE_CLICK, _OnLieukhidung_colistin_KDYSelectFnc);
	//m_wndLieukhidung_colistin_lydo.SetEvent(WE_CHANGE, _OnLieukhidung_colistin_lydoChangeFnc);
	//m_wndLieukhidung_colistin_lydo.SetEvent(WE_SETFOCUS, _OnLieukhidung_colistin_lydoSetfocusFnc);
	//m_wndLieukhidung_colistin_lydo.SetEvent(WE_KILLFOCUS, _OnLieukhidung_colistin_lydoKillfocusFnc);
	m_wndLieukhidung_colistin_lydo.SetEvent(WE_CHECKVALUE, _OnLieukhidung_colistin_lydoCheckValueFnc);
	m_wndTenkhangsinhphoihop_DY.SetEvent(WE_CLICK, _OnTenkhangsinhphoihop_DYSelectFnc);
	m_wndTenkhangsinhphoihop_KDY.SetEvent(WE_CLICK, _OnTenkhangsinhphoihop_KDYSelectFnc);
	//m_wndTenkhangsinhphoihop_lydo.SetEvent(WE_CHANGE, _OnTenkhangsinhphoihop_lydoChangeFnc);
	//m_wndTenkhangsinhphoihop_lydo.SetEvent(WE_SETFOCUS, _OnTenkhangsinhphoihop_lydoSetfocusFnc);
	//m_wndTenkhangsinhphoihop_lydo.SetEvent(WE_KILLFOCUS, _OnTenkhangsinhphoihop_lydoKillfocusFnc);
	m_wndTenkhangsinhphoihop_lydo.SetEvent(WE_CHECKVALUE, _OnTenkhangsinhphoihop_lydoCheckValueFnc);
	m_wndLieukhangsinhphoihop_DY.SetEvent(WE_CLICK, _OnLieukhangsinhphoihop_DYSelectFnc);
	m_wndLieukhangsinhphoihop_KDY.SetEvent(WE_CLICK, _OnLieukhangsinhphoihop_KDYSelectFnc);
	//m_wndLieukhangsinhphoihop_lydo.SetEvent(WE_CHANGE, _OnLieukhangsinhphoihop_lydoChangeFnc);
	//m_wndLieukhangsinhphoihop_lydo.SetEvent(WE_SETFOCUS, _OnLieukhangsinhphoihop_lydoSetfocusFnc);
	//m_wndLieukhangsinhphoihop_lydo.SetEvent(WE_KILLFOCUS, _OnLieukhangsinhphoihop_lydoKillfocusFnc);
	m_wndLieukhangsinhphoihop_lydo.SetEvent(WE_CHECKVALUE, _OnLieukhangsinhphoihop_lydoCheckValueFnc);
	//m_wndNote.SetEvent(WE_CHANGE, _OnNoteChangeFnc);
	//m_wndNote.SetEvent(WE_SETFOCUS, _OnNoteSetfocusFnc);
	//m_wndNote.SetEvent(WE_KILLFOCUS, _OnNoteKillfocusFnc);
	m_wndNote.SetEvent(WE_CHECKVALUE, _OnNoteCheckValueFnc);
	m_wndSave.SetEvent(WE_CLICK, _OnSaveSelectFnc);
	m_wndClose.SetEvent(WE_CLICK, _OnCloseSelectFnc);
	GetDataToScreen();
	SetMode(VM_EDIT);

}
void CHMSAdviseColistinApproveDialog::OnDoDataExchange(CDataExchange* pDX){
	DDX_Check(pDX, m_wndChidinh_DY.GetDlgCtrlID(), m_bChidinh_DY);
	DDX_Check(pDX, m_wndChidinh_KDY.GetDlgCtrlID(), m_bChidinh_KDY);
	DDX_Text(pDX, m_wndChidinh_lydo.GetDlgCtrlID(), m_szChidinh_lydo);
	DDX_Check(pDX, m_wndNongdodich_DY.GetDlgCtrlID(), m_bNongdodich_DY);
	DDX_Check(pDX, m_wndNongdodich_KDY.GetDlgCtrlID(), m_bNongdodich_KDY);
	DDX_Text(pDX, m_wndNongdodich_lydo.GetDlgCtrlID(), m_szNongdodich_lydo);
	DDX_Check(pDX, m_wndLieunap_DY.GetDlgCtrlID(), m_bLieunap_DY);
	DDX_Check(pDX, m_wndLieunap_KDY.GetDlgCtrlID(), m_bLieunap_KDY);
	DDX_Text(pDX, m_wndLieunap_lydo.GetDlgCtrlID(), m_szLieunap_lydo);
	DDX_Check(pDX, m_wndLieuduytri_DY.GetDlgCtrlID(), m_bLieuduytri_DY);
	DDX_Check(pDX, m_wndLieuduytri_KDY.GetDlgCtrlID(), m_bLieuduytri_KDY);
	DDX_Text(pDX, m_wndLieuduytri_lydo.GetDlgCtrlID(), m_szLieuduytri_lydo);
	DDX_Check(pDX, m_wndLieukhidung_colistin_DY.GetDlgCtrlID(), m_bLieukhidung_colistin_DY);
	DDX_Check(pDX, m_wndLieukhidung_colistin_KDY.GetDlgCtrlID(), m_bLieukhidung_colistin_KDY);
	DDX_Text(pDX, m_wndLieukhidung_colistin_lydo.GetDlgCtrlID(), m_szLieukhidung_colistin_lydo);
	DDX_Check(pDX, m_wndTenkhangsinhphoihop_DY.GetDlgCtrlID(), m_bTenkhangsinhphoihop_DY);
	DDX_Check(pDX, m_wndTenkhangsinhphoihop_KDY.GetDlgCtrlID(), m_bTenkhangsinhphoihop_KDY);
	DDX_Text(pDX, m_wndTenkhangsinhphoihop_lydo.GetDlgCtrlID(), m_szTenkhangsinhphoihop_lydo);
	DDX_Check(pDX, m_wndLieukhangsinhphoihop_DY.GetDlgCtrlID(), m_bLieukhangsinhphoihop_DY);
	DDX_Check(pDX, m_wndLieukhangsinhphoihop_KDY.GetDlgCtrlID(), m_bLieukhangsinhphoihop_KDY);
	DDX_Text(pDX, m_wndLieukhangsinhphoihop_lydo.GetDlgCtrlID(), m_szLieukhangsinhphoihop_lydo);
	DDX_Text(pDX, m_wndNote.GetDlgCtrlID(), m_szNote);

}
void CHMSAdviseColistinApproveDialog::UpdateJson(BOOL bSave){
	if(bSave)
	{
			
	m_jData[_T("Chidinh_DY")] =  m_bChidinh_DY;
	m_jData[_T("Chidinh_KDY")] =  m_bChidinh_KDY;
	m_jData[_T("Chidinh_lydo")] =  m_szChidinh_lydo;
	m_jData[_T("Nongdodich_DY")] =  m_bNongdodich_DY;
	m_jData[_T("Nongdodich_KDY")] =  m_bNongdodich_KDY;
	m_jData[_T("Nongdodich_lydo")] =  m_szNongdodich_lydo;
	m_jData[_T("Lieunap_DY")] =  m_bLieunap_DY;
	m_jData[_T("Lieunap_KDY")] =  m_bLieunap_KDY;
	m_jData[_T("Lieunap_lydo")] =  m_szLieunap_lydo;
	m_jData[_T("Lieuduytri_DY")] =  m_bLieuduytri_DY;
	m_jData[_T("Lieuduytri_KDY")] =  m_bLieuduytri_KDY;
	m_jData[_T("Lieuduytri_lydo")] =  m_szLieuduytri_lydo;
	m_jData[_T("Lieukhidung_colistin_DY")] =  m_bLieukhidung_colistin_DY;
	m_jData[_T("Lieukhidung_colistin_KDY")] =  m_bLieukhidung_colistin_KDY;
	m_jData[_T("Lieukhidung_colistin_lydo")] =  m_szLieukhidung_colistin_lydo;
	m_jData[_T("Tenkhangsinhphoihop_DY")] =  m_bTenkhangsinhphoihop_DY;
	m_jData[_T("Tenkhangsinhphoihop_KDY")] =  m_bTenkhangsinhphoihop_KDY;
	m_jData[_T("Tenkhangsinhphoihop_lydo")] =  m_szTenkhangsinhphoihop_lydo;
	m_jData[_T("Lieukhangsinhphoihop_DY")] =  m_bLieukhangsinhphoihop_DY;
	m_jData[_T("Lieukhangsinhphoihop_KDY")] =  m_bLieukhangsinhphoihop_KDY;
	m_jData[_T("Lieukhangsinhphoihop_lydo")] =  m_szLieukhangsinhphoihop_lydo;
	m_jData[_T("Note")] =  m_szNote;
	}
	else
	{
			
	m_jData[_T("Chidinh_DY")].GetValue(m_bChidinh_DY);
	m_jData[_T("Chidinh_KDY")].GetValue(m_bChidinh_KDY);
	m_jData[_T("Chidinh_lydo")].GetValue(m_szChidinh_lydo);
	m_jData[_T("Nongdodich_DY")].GetValue(m_bNongdodich_DY);
	m_jData[_T("Nongdodich_KDY")].GetValue(m_bNongdodich_KDY);
	m_jData[_T("Nongdodich_lydo")].GetValue(m_szNongdodich_lydo);
	m_jData[_T("Lieunap_DY")].GetValue(m_bLieunap_DY);
	m_jData[_T("Lieunap_KDY")].GetValue(m_bLieunap_KDY);
	m_jData[_T("Lieunap_lydo")].GetValue(m_szLieunap_lydo);
	m_jData[_T("Lieuduytri_DY")].GetValue(m_bLieuduytri_DY);
	m_jData[_T("Lieuduytri_KDY")].GetValue(m_bLieuduytri_KDY);
	m_jData[_T("Lieuduytri_lydo")].GetValue(m_szLieuduytri_lydo);
	m_jData[_T("Lieukhidung_colistin_DY")].GetValue(m_bLieukhidung_colistin_DY);
	m_jData[_T("Lieukhidung_colistin_KDY")].GetValue(m_bLieukhidung_colistin_KDY);
	m_jData[_T("Lieukhidung_colistin_lydo")].GetValue(m_szLieukhidung_colistin_lydo);
	m_jData[_T("Tenkhangsinhphoihop_DY")].GetValue(m_bTenkhangsinhphoihop_DY);
	m_jData[_T("Tenkhangsinhphoihop_KDY")].GetValue(m_bTenkhangsinhphoihop_KDY);
	m_jData[_T("Tenkhangsinhphoihop_lydo")].GetValue(m_szTenkhangsinhphoihop_lydo);
	m_jData[_T("Lieukhangsinhphoihop_DY")].GetValue(m_bLieukhangsinhphoihop_DY);
	m_jData[_T("Lieukhangsinhphoihop_KDY")].GetValue(m_bLieukhangsinhphoihop_KDY);
	m_jData[_T("Lieukhangsinhphoihop_lydo")].GetValue(m_szLieukhangsinhphoihop_lydo);
	m_jData[_T("Note")].GetValue(m_szNote);
	}

}
void CHMSAdviseColistinApproveDialog::GetDataToScreen(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	CRecord rs(&pMF->m_db);
	CString szSQL;
	szSQL.Format(_T("SELECT * FROM hms_advise_colistin_form WHERE orderid=%ld"), m_nOrderId);
	rs.ExecSQL(szSQL);
	if(!rs.IsEOF())
	{
		rs.GetValue(L"CHIDINH_DY", m_bChidinh_DY);
		rs.GetValue(L"CHIDINH_KDY", m_bChidinh_KDY);
		rs.GetValue(L"CHIDINH_LYDO", m_szChidinh_lydo);
		rs.GetValue(L"NONGDODICH_DY", m_bNongdodich_DY);
		rs.GetValue(L"NONGDODICH_KDY", m_bNongdodich_KDY);
		rs.GetValue(L"NONGDODICH_LYDO", m_szNongdodich_lydo);
		rs.GetValue(L"LIEUNAP_DY", m_bLieunap_DY);
		rs.GetValue(L"LIEUNAP_KDY", m_bLieunap_KDY);
		rs.GetValue(L"LIEUNAP_LYDO", m_szLieunap_lydo);
		rs.GetValue(L"LIEUDUYTRI_DY", m_bLieuduytri_DY);
		rs.GetValue(L"LIEUDUYTRI_KDY", m_bLieuduytri_KDY);
		rs.GetValue(L"LIEUDUYTRI_LYDO", m_szLieuduytri_lydo);
		rs.GetValue(L"LIEUKHIDUNG_DY", m_bLieukhidung_colistin_DY);
		rs.GetValue(L"LIEUKHIDUNG_KDY", m_bLieukhidung_colistin_KDY);
		rs.GetValue(L"LIEUKHIDUNG_LYDO", m_szLieukhidung_colistin_lydo);
		rs.GetValue(L"TENKHANGSINH_DY", m_bTenkhangsinhphoihop_DY);
		rs.GetValue(L"TENKHANGSINH_KDY", m_bTenkhangsinhphoihop_KDY);
		rs.GetValue(L"TENKHANGSINH_LYDO", m_szTenkhangsinhphoihop_lydo);
		rs.GetValue(L"LIEUKHANGSINH_DY", m_bLieukhangsinhphoihop_DY);
		rs.GetValue(L"LIEUKHANGSINH_KDY", m_bLieukhangsinhphoihop_KDY);
		rs.GetValue(L"LIEUKHANGSINH_LYDO", m_szLieukhangsinhphoihop_lydo);
		rs.GetValue(L"GHICHU", m_szNote);

	}
	SetMode(VM_EDIT);
	
}
void CHMSAdviseColistinApproveDialog::GetScreenToData(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	m_hms_advise_Tbl.SetValue(L"ORDER_ID", m_nOrderId);
	m_hms_advise_Tbl.SetValue(L"USER_ID", pMF->GetCurrentUser());
	m_hms_advise_Tbl.SetValue(L"CHIDINH_DY", m_bChidinh_DY);
	m_hms_advise_Tbl.SetValue(L"CHIDINH_KDY", m_bChidinh_KDY);
	m_hms_advise_Tbl.SetValue(L"CHIDINH_LYDO", m_szChidinh_lydo);
	m_hms_advise_Tbl.SetValue(L"NONGDODICH_DY", m_bNongdodich_DY);
	m_hms_advise_Tbl.SetValue(L"NONGDODICH_KDY", m_bNongdodich_KDY);
	m_hms_advise_Tbl.SetValue(L"NONGDODICH_LYDO", m_szNongdodich_lydo);
	m_hms_advise_Tbl.SetValue(L"LIEUNAP_DY", m_bLieunap_DY);
	m_hms_advise_Tbl.SetValue(L"LIEUNAP_KDY", m_bLieunap_KDY);
	m_hms_advise_Tbl.SetValue(L"LIEUNAP_LYDO", m_szLieunap_lydo);
	m_hms_advise_Tbl.SetValue(L"LIEUDUYTRI_DY", m_bLieuduytri_DY);
	m_hms_advise_Tbl.SetValue(L"LIEUDUYTRI_KDY", m_bLieuduytri_KDY);
	m_hms_advise_Tbl.SetValue(L"LIEUDUYTRI_LYDO", m_szLieuduytri_lydo);
	m_hms_advise_Tbl.SetValue(L"LIEUKHIDUNG_DY", m_bLieukhidung_colistin_DY);
	m_hms_advise_Tbl.SetValue(L"LIEUKHIDUNG_KDY", m_bLieukhidung_colistin_KDY);
	m_hms_advise_Tbl.SetValue(L"LIEUKHIDUNG_LYDO", m_szLieukhidung_colistin_lydo);
	m_hms_advise_Tbl.SetValue(L"TENKHANGSINH_DY", m_bTenkhangsinhphoihop_DY);
	m_hms_advise_Tbl.SetValue(L"TENKHANGSINH_KDY", m_bTenkhangsinhphoihop_KDY);
	m_hms_advise_Tbl.SetValue(L"TENKHANGSINH_LYDO", m_szTenkhangsinhphoihop_lydo);
	m_hms_advise_Tbl.SetValue(L"LIEUKHANGSINH_DY", m_bLieukhangsinhphoihop_DY);
	m_hms_advise_Tbl.SetValue(L"LIEUKHANGSINH_KDY", m_bLieukhangsinhphoihop_KDY);
	m_hms_advise_Tbl.SetValue(L"LIEUKHANGSINH_LYDO", m_szLieukhangsinhphoihop_lydo);
	m_hms_advise_Tbl.SetValue(L"GHICHU", m_szNote);
}
void CHMSAdviseColistinApproveDialog::SetDefaultValues(){

	m_bChidinh_DY=FALSE;
	m_bChidinh_KDY=FALSE;
	m_szChidinh_lydo.Empty();
	m_bNongdodich_DY=FALSE;
	m_bNongdodich_KDY=FALSE;
	m_szNongdodich_lydo.Empty();
	m_bLieunap_DY=FALSE;
	m_bLieunap_KDY=FALSE;
	m_szLieunap_lydo.Empty();
	m_bLieuduytri_DY=FALSE;
	m_bLieuduytri_KDY=FALSE;
	m_szLieuduytri_lydo.Empty();
	m_bLieukhidung_colistin_DY=FALSE;
	m_bLieukhidung_colistin_KDY=FALSE;
	m_szLieukhidung_colistin_lydo.Empty();
	m_bTenkhangsinhphoihop_DY=FALSE;
	m_bTenkhangsinhphoihop_KDY=FALSE;
	m_szTenkhangsinhphoihop_lydo.Empty();
	m_bLieukhangsinhphoihop_DY=FALSE;
	m_bLieukhangsinhphoihop_KDY=FALSE;
	m_szLieukhangsinhphoihop_lydo.Empty();
	m_szNote.Empty();

}
int CHMSAdviseColistinApproveDialog::SetMode(int nMode){
 		int nOldMode = GetMode();
 		CGuiDialog::SetMode(nMode);
 		CGuiMainFrame *pMF = (CGuiMainFrame *) AfxGetMainWnd();
 		CString szSQL;
 		CRecord rs(&pMF->m_db);
  		switch(nMode){
 		case VM_ADD: 
 			EnableControls(TRUE);
 			EnableButtons(TRUE, 3, 4, -1);
 			SetDefaultValues(); 
 			break;
 		case VM_EDIT: 
 			EnableControls(TRUE);
 			EnableButtons(TRUE, 0, 1, -1);
 			break;
 		case VM_VIEW: 
 			EnableControls(FALSE);
 			EnableButtons(FALSE, -1);
 			break;
 		case VM_NONE: 
 			EnableControls(FALSE);
 			EnableButtons(TRUE, 0, 6, -1);
 			SetDefaultValues();
 			break;
 		};
		EnableReason();
 		UpdateData(FALSE);
 		return nOldMode;
}
void CHMSAdviseColistinApproveDialog::OnChidinh_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
	void CHMSAdviseColistinApproveDialog::OnChidinh_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bChidinh_KDY)
		m_bChidinh_DY = FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnChidinh_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnChidinh_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnChidinh_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnChidinh_lydoCheckValue(){
	return 0;
} 
	void CHMSAdviseColistinApproveDialog::OnNongdodich_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
	void CHMSAdviseColistinApproveDialog::OnNongdodich_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bNongdodich_KDY)
		m_bNongdodich_DY= FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnNongdodich_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnNongdodich_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnNongdodich_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnNongdodich_lydoCheckValue(){
	return 0;
} 

void CHMSAdviseColistinApproveDialog::OnLieunap_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
void CHMSAdviseColistinApproveDialog::OnLieunap_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();

	UpdateData(TRUE);
	if(m_bLieunap_KDY)
		m_bLieunap_DY = FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnLieunap_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieunap_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieunap_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnLieunap_lydoCheckValue(){
	return 0;
} 
	void CHMSAdviseColistinApproveDialog::OnLieuduytri_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
	void CHMSAdviseColistinApproveDialog::OnLieuduytri_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bLieuduytri_KDY)
		m_bLieuduytri_DY=FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnLieuduytri_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieuduytri_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieuduytri_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnLieuduytri_lydoCheckValue(){
	return 0;
} 
void CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
	
}
void CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bLieukhidung_colistin_KDY)
		m_bLieukhidung_colistin_DY = FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnLieukhidung_colistin_lydoCheckValue(){
	return 0;
} 
	void CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
	void CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bTenkhangsinhphoihop_KDY)
		m_bTenkhangsinhphoihop_DY = FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnTenkhangsinhphoihop_lydoCheckValue(){
	return 0;
} 
	void CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_DYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	EnableReason();
}
	void CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_KDYSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	UpdateData(TRUE);
	if(m_bLieukhangsinhphoihop_KDY)
		m_bLieukhangsinhphoihop_DY=FALSE;
	EnableReason();
}
/*void CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_lydoChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_lydoSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_lydoKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnLieukhangsinhphoihop_lydoCheckValue(){
	return 0;
} 
/*void CHMSAdviseColistinApproveDialog::OnNoteChange(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnNoteSetfocus(){
	
} */
/*void CHMSAdviseColistinApproveDialog::OnNoteKillfocus(){
	
} */
int CHMSAdviseColistinApproveDialog::OnNoteCheckValue(){
	return 0;
} 
void CHMSAdviseColistinApproveDialog::OnSaveSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	OnSaveHMSAdviseColistinApproveDialog();
} 
void CHMSAdviseColistinApproveDialog::OnCloseSelect(){
	CGuiMainFrame *pMF = (CGuiMainFrame*) AfxGetMainWnd();
	CGuiDialog::OnCancel();
} 
int CHMSAdviseColistinApproveDialog::OnAddHMSAdviseColistinApproveDialog(){
 	if(GetMode() == VM_ADD || GetMode() == VM_EDIT)
 		return -1;
 	CGuiMainFrame *pMF = (CGuiMainFrame *) AfxGetMainWnd();
 	SetMode(VM_ADD);
	return 0;
}
int CHMSAdviseColistinApproveDialog::OnEditHMSAdviseColistinApproveDialog(){
 	if(GetMode() != VM_VIEW)
 		return -1;
 	CGuiMainFrame *pMF = (CGuiMainFrame *) AfxGetMainWnd();
 	SetMode(VM_EDIT);
	return 0;  
}
int CHMSAdviseColistinApproveDialog::OnDeleteHMSAdviseColistinApproveDialog(){
 	if(GetMode() != VM_VIEW)
 		return -1;
 	CGuiMainFrame *pMF = (CGuiMainFrame *)AfxGetMainWnd();
 	CString szSQL;
 	if(ShowMessage(1, MB_YESNO|MB_ICONQUESTION|MB_DEFBUTTON2) == IDNO)
 		return -1;
 	szSQL.Format(_T("DELETE FROM  WHERE  AND") );
 	int ret = pMF->ExecSQL(szSQL);
 	if(ret >= 0){
 		SetMode(VM_NONE);
 		OnCancelHMSAdviseColistinApproveDialog();
 	}
	return 0;
}
int CHMSAdviseColistinApproveDialog::OnSaveHMSAdviseColistinApproveDialog(){
 	if(GetMode() != VM_ADD && GetMode() != VM_EDIT)
 		return -1;
 	if(!IsValidateData())
 		return -1;
 	CGuiMainFrame *pMF = (CGuiMainFrame *)AfxGetMainWnd();
 	CString szSQL;
	szSQL.Format(_T("HMS_ADVISE_COLISTIN_APPROVE(%s)"), m_hms_advise_Tbl.FormatSQL());
 _tprintf(_T("%s"), szSQL);
 	int ret = str2int(pMF->ExecDML(szSQL));
 	if(ret > 0)
 	{
		CGuiDialog::OnOK();

 	}
 	else
 	{
 	}
 	return ret;
 	return 0;
}
int CHMSAdviseColistinApproveDialog::OnCancelHMSAdviseColistinApproveDialog(){
 	if(GetMode() == VM_EDIT)
 	{
 		SetMode(VM_VIEW);
 	} 
 	else 
 	{
 		SetMode(VM_NONE);
 	} 
 	CGuiMainFrame *pMF = (CGuiMainFrame *)AfxGetMainWnd();
 	return 0;
} 
int CHMSAdviseColistinApproveDialog::OnHMSAdviseColistinApproveDialogListLoadData(){
	return 0;
}


void CHMSAdviseColistinApproveDialog::EnableReason()
{
	
	if(m_bChidinh_DY)
	{
		m_bChidinh_KDY = FALSE;
		m_szChidinh_lydo.Empty();
	}
	m_wndChidinh_lydo.EnableWindow(m_bChidinh_KDY);

	if(m_bNongdodich_DY)
	{
		m_bNongdodich_KDY = FALSE;
		m_szNongdodich_lydo.Empty();
	}

	m_wndNongdodich_lydo.EnableWindow(m_bNongdodich_KDY);

	
	if(m_bLieunap_DY)
	{
		m_bLieunap_KDY = FALSE;
		m_szLieunap_lydo.Empty();
	}
	m_wndLieunap_lydo.EnableWindow(m_bLieunap_KDY);

	if(m_bLieuduytri_DY)
	{
		m_bLieuduytri_KDY =FALSE;
		m_szLieuduytri_lydo.Empty();
	}
	m_wndLieuduytri_lydo.EnableWindow(m_bLieuduytri_KDY);

	if(m_bLieukhidung_colistin_DY)
	{
		m_bLieukhidung_colistin_KDY = FALSE;
		m_szLieukhidung_colistin_lydo.Empty();
	}
	m_wndLieukhidung_colistin_lydo.EnableWindow(m_bLieukhidung_colistin_KDY);

	if(m_bTenkhangsinhphoihop_DY)
	{
		m_bTenkhangsinhphoihop_KDY = FALSE;
		m_szTenkhangsinhphoihop_lydo.Empty();
	}
	m_wndTenkhangsinhphoihop_lydo.EnableWindow(m_bTenkhangsinhphoihop_KDY);
	if(m_bLieukhangsinhphoihop_DY)
	{
		m_bLieukhangsinhphoihop_KDY = FALSE;
		m_szLieukhangsinhphoihop_lydo.Empty();
	}
	m_wndLieukhangsinhphoihop_lydo.EnableWindow(m_bLieukhangsinhphoihop_KDY);	
	UpdateData(FALSE);
}