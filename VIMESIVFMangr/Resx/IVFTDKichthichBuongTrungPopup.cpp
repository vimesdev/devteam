#include "IVFTDKichthichBuongTrungPopup.h"
#include "MainFrm.h"
/*static void _OnNgayCKChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgayCKChange();
} */
/*static void _OnNgayCKSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgayCKSetfocus();} */ 
/*static void _OnNgayCKKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgayCKKillfocus();
} */
static int _OnNgayCKCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgayCKCheckValue();
} 
/*static void _OnNgàyChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgàyChange();
} */
/*static void _OnNgàySetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgàySetfocus();} */ 
/*static void _OnNgàyKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgàyKillfocus();
} */
static int _OnNgàyCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNgàyCheckValue();
} 
/*static void _OnQuyetDinhChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnQuyetDinhChange();
} */
/*static void _OnQuyetDinhSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnQuyetDinhSetfocus();} */ 
/*static void _OnQuyetDinhKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnQuyetDinhKillfocus();
} */
static int _OnQuyetDinhCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnQuyetDinhCheckValue();
} 
/*static void _OnCCChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnCCChange();
} */
/*static void _OnCCSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnCCSetfocus();} */ 
/*static void _OnCCKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnCCKillfocus();
} */
static int _OnCCCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnCCCheckValue();
} 
/*static void _OnFSHChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnFSHChange();
} */
/*static void _OnFSHSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnFSHSetfocus();} */ 
/*static void _OnFSHKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnFSHKillfocus();
} */
static int _OnFSHCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnFSHCheckValue();
} 
/*static void _OnGNRHAChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGNRHAChange();
} */
/*static void _OnGNRHASetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGNRHASetfocus();} */ 
/*static void _OnGNRHAKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGNRHAKillfocus();
} */
static int _OnGNRHACheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGNRHACheckValue();
} 
/*static void _OnBTPChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTPChange();
} */
/*static void _OnBTPSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTPSetfocus();} */ 
/*static void _OnBTPKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTPKillfocus();
} */
static int _OnBTPCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTPCheckValue();
} 
/*static void _OnBTTChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTTChange();
} */
/*static void _OnBTTSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTTSetfocus();} */ 
/*static void _OnBTTKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTTKillfocus();
} */
static int _OnBTTCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBTTCheckValue();
} 
/*static void _OnNMTCChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNMTCChange();
} */
/*static void _OnNMTCSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNMTCSetfocus();} */ 
/*static void _OnNMTCKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNMTCKillfocus();
} */
static int _OnNMTCCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnNMTCCheckValue();
} 
static void _OnBSSASelectChangeFnc(CWnd *pWnd, int nOldItemSel, int nNewItemSel){
	((CIVFTDKichthichBuongTrungPopup* )pWnd)->OnBSSASelectChange(nOldItemSel, nNewItemSel);
} 
static void _OnBSSASelendokFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBSSASelendok();
}
/*static void _OnBSSASetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBSSAKillfocus();
}*/
/*static void _OnBSSAKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBSSAKillfocus();
}*/
static long _OnBSSALoadDataFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBSSALoadData();
}
/*static void _OnBSSAAddNewFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnBSSAAddNew();
}*/
/*static void _OnGhiChuChangeFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGhiChuChange();
} */
/*static void _OnGhiChuSetfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGhiChuSetfocus();} */ 
/*static void _OnGhiChuKillfocusFnc(CWnd *pWnd){
	((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGhiChuKillfocus();
} */
static int _OnGhiChuCheckValueFnc(CWnd *pWnd){
	return ((CIVFTDKichthichBuongTrungPopup *)pWnd)->OnGhiChuCheckValue();
} 
static void _OnSaveSelectFnc(CWnd *pWnd){
	CIVFTDKichthichBuongTrungPopup *pVw = (CIVFTDKichthichBuongTrungPopup *)pWnd;
	pVw->OnSaveSelect();
} 
static void _OnCloseSelectFnc(CWnd *pWnd){
	CIVFTDKichthichBuongTrungPopup *pVw = (CIVFTDKichthichBuongTrungPopup *)pWnd;
	pVw->OnCloseSelect();
} 
static int _OnAddIVFTDKichthichBuongTrungPopupFnc(CWnd *pWnd){
	 return ((CIVFTDKichthichBuongTrungPopup*)pWnd)->OnAddIVFTDKichthichBuongTrungPopup();
} 
static int _OnEditIVFTDKichthichBuongTrungPopupFnc(CWnd *pWnd){
	 return ((CIVFTDKichthichBuongTrungPopup*)pWnd)->OnEditIVFTDKichthichBuongTrungPopup();
} 
static int _OnDeleteIVFTDKichthichBuongTrungPopupFnc(CWnd *pWnd){
	 return ((CIVFTDKichthichBuongTrungPopup*)pWnd)->OnDeleteIVFTDKichthichBuongTrungPopup();
} 
static int _OnSaveIVFTDKichthichBuongTrungPopupFnc(CWnd *pWnd){
	 return ((CIVFTDKichthichBuongTrungPopup*)pWnd)->OnSaveIVFTDKichthichBuongTrungPopup();
} 
static int _OnCancelIVFTDKichthichBuongTrungPopupFnc(CWnd *pWnd){
	 return ((CIVFTDKichthichBuongTrungPopup*)pWnd)->OnCancelIVFTDKichthichBuongTrungPopup();
} 
CIVFTDKichthichBuongTrungPopup::CIVFTDKichthichBuongTrungPopup(CWnd *pParent):
	CGuiDialog(pParent){

	m_nDlgWidth = 685;
	m_nDlgHeight = 165;
	SetDefaultValues();
}
CIVFTDKichthichBuongTrungPopup::~CIVFTDKichthichBuongTrungPopup(){
}
void CIVFTDKichthichBuongTrungPopup::OnCreateComponents(){
	m_wndNgayCKLabel.Create(this, _T("NgayCK"), 5, 5, 105, 30);
	m_wndNgayCK.Create(this,110, 5, 210, 30); 
	m_wndNgayLabel.Create(this, _T("Ngày"), 215, 5, 315, 30);
	m_wndNgày.Create(this,320, 5, 420, 30); 
	m_wndQuyetDinhLabel.Create(this, _T("Quyet Dinh"), 425, 5, 525, 30);
	m_wndQuyetDinh.Create(this,530, 5, 630, 30); 
	m_wndCCLabel.Create(this, _T("CC"), 5, 35, 105, 60);
	m_wndCC.Create(this,110, 35, 210, 60); 
	m_wndFSHLabel.Create(this, _T("FSH"), 215, 35, 315, 60);
	m_wndFSH.Create(this,320, 35, 420, 60); 
	m_wndGNRHALabel.Create(this, _T("GNRHA"), 425, 35, 525, 60);
	m_wndGNRHA.Create(this,530, 35, 630, 60); 
	m_wndBTPLabel.Create(this, _T("BT_P"), 5, 65, 105, 90);
	m_wndBTP.Create(this,110, 65, 210, 90); 
	m_wndBTTLabel.Create(this, _T("BT_T"), 215, 65, 315, 90);
	m_wndBTT.Create(this,320, 65, 420, 90); 
	m_wndNMTCLabel.Create(this, _T("NMTC"), 425, 65, 525, 90);
	m_wndNMTC.Create(this,530, 65, 630, 90); 
	m_wndBSSALabel.Create(this, _T("BS_SA"), 5, 95, 105, 120);
	m_wndBSSA.Create(this,110, 95, 210, 120); 
	m_wndGhiChuLabel.Create(this, _T("Ghi chu"), 215, 95, 315, 120);
	m_wndGhiChu.Create(this,320, 95, 630, 120); 
	m_wndSave.Create(this, _T("&Save"), 465, 125, 545, 150);
	m_wndClose.Create(this, _T("&Close"), 550, 125, 630, 150);

}
void CIVFTDKichthichBuongTrungPopup::OnInitializeComponents(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	m_wndNgayCK.SetMax(CDate(pMF->GetSysDate()));
	m_wndNgayCK.SetCheckValue(true);
	m_wndNgày.SetMax(CDate(pMF->GetSysDate()));
	m_wndNgày.SetCheckValue(true);
	m_wndQuyetDinh.SetLimitText(35);
	m_wndQuyetDinh.SetCheckValue(true);
	m_wndCC.SetLimitText(35);
	m_wndCC.SetCheckValue(true);
	m_wndFSH.SetLimitText(35);
	m_wndFSH.SetCheckValue(true);
	m_wndGNRHA.SetLimitText(35);
	m_wndGNRHA.SetCheckValue(true);
	m_wndBTP.SetLimitText(35);
	m_wndBTP.SetCheckValue(true);
	m_wndBTT.SetLimitText(35);
	m_wndBTT.SetCheckValue(true);
	m_wndNMTC.SetLimitText(35);
	m_wndNMTC.SetCheckValue(true);
	m_wndBSSA.SetCheckValue(true);
	m_wndBSSA.LimitText(15);
	m_wndGhiChu.SetLimitText(15);
	m_wndGhiChu.SetCheckValue(true);


	m_wndBSSA.InsertColumn(0, _T("ID"), CFMT_TEXT, 50);
	m_wndBSSA.InsertColumn(1, _T("Name"), CFMT_TEXT, 150);
	m_ivf_nangnoanTbl.SetTableName(_T("ivf_nangnoan"));
	m_ivf_nangnoanTbl.AddField(_T("SOHOSO"), dfLong); 
	m_ivf_nangnoanTbl.AddField(_T("NGAYCK"), dfLong); 
	m_ivf_nangnoanTbl.AddField(_T("NGAYTHEODOI"), dfDate); 
	m_ivf_nangnoanTbl.AddField(_T("QUYETDINH"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("CC"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("FSH"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("GNRHA"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("BT_P"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("MAX_BT_P"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("BT_T"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("MAX_BT_T"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("NMTC"), dfText, 35); 
	m_ivf_nangnoanTbl.AddField(_T("BACSI_SA"), dfText, 15); 
	m_ivf_nangnoanTbl.AddField(_T("LICHTAIKHAM_SA"), dfText, 15); 
	m_ivf_nangnoanTbl.AddField(_T("LICHHENTT_SA"), dfText, 15); 
	m_ivf_nangnoanTbl.AddField(_T("GHICHU"), dfText, 15); 

}
void CIVFTDKichthichBuongTrungPopup::OnSetWindowEvents(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	//m_wndNgayCK.SetEvent(WE_CHANGE, _OnNgayCKChangeFnc);
	//m_wndNgayCK.SetEvent(WE_SETFOCUS, _OnNgayCKSetfocusFnc);
	//m_wndNgayCK.SetEvent(WE_KILLFOCUS, _OnNgayCKKillfocusFnc);
	m_wndNgayCK.SetEvent(WE_CHECKVALUE, _OnNgayCKCheckValueFnc);
	//m_wndNgày.SetEvent(WE_CHANGE, _OnNgàyChangeFnc);
	//m_wndNgày.SetEvent(WE_SETFOCUS, _OnNgàySetfocusFnc);
	//m_wndNgày.SetEvent(WE_KILLFOCUS, _OnNgàyKillfocusFnc);
	m_wndNgày.SetEvent(WE_CHECKVALUE, _OnNgàyCheckValueFnc);
	//m_wndQuyetDinh.SetEvent(WE_CHANGE, _OnQuyetDinhChangeFnc);
	//m_wndQuyetDinh.SetEvent(WE_SETFOCUS, _OnQuyetDinhSetfocusFnc);
	//m_wndQuyetDinh.SetEvent(WE_KILLFOCUS, _OnQuyetDinhKillfocusFnc);
	m_wndQuyetDinh.SetEvent(WE_CHECKVALUE, _OnQuyetDinhCheckValueFnc);
	//m_wndCC.SetEvent(WE_CHANGE, _OnCCChangeFnc);
	//m_wndCC.SetEvent(WE_SETFOCUS, _OnCCSetfocusFnc);
	//m_wndCC.SetEvent(WE_KILLFOCUS, _OnCCKillfocusFnc);
	m_wndCC.SetEvent(WE_CHECKVALUE, _OnCCCheckValueFnc);
	//m_wndFSH.SetEvent(WE_CHANGE, _OnFSHChangeFnc);
	//m_wndFSH.SetEvent(WE_SETFOCUS, _OnFSHSetfocusFnc);
	//m_wndFSH.SetEvent(WE_KILLFOCUS, _OnFSHKillfocusFnc);
	m_wndFSH.SetEvent(WE_CHECKVALUE, _OnFSHCheckValueFnc);
	//m_wndGNRHA.SetEvent(WE_CHANGE, _OnGNRHAChangeFnc);
	//m_wndGNRHA.SetEvent(WE_SETFOCUS, _OnGNRHASetfocusFnc);
	//m_wndGNRHA.SetEvent(WE_KILLFOCUS, _OnGNRHAKillfocusFnc);
	m_wndGNRHA.SetEvent(WE_CHECKVALUE, _OnGNRHACheckValueFnc);
	//m_wndBTP.SetEvent(WE_CHANGE, _OnBTPChangeFnc);
	//m_wndBTP.SetEvent(WE_SETFOCUS, _OnBTPSetfocusFnc);
	//m_wndBTP.SetEvent(WE_KILLFOCUS, _OnBTPKillfocusFnc);
	m_wndBTP.SetEvent(WE_CHECKVALUE, _OnBTPCheckValueFnc);
	//m_wndBTT.SetEvent(WE_CHANGE, _OnBTTChangeFnc);
	//m_wndBTT.SetEvent(WE_SETFOCUS, _OnBTTSetfocusFnc);
	//m_wndBTT.SetEvent(WE_KILLFOCUS, _OnBTTKillfocusFnc);
	m_wndBTT.SetEvent(WE_CHECKVALUE, _OnBTTCheckValueFnc);
	//m_wndNMTC.SetEvent(WE_CHANGE, _OnNMTCChangeFnc);
	//m_wndNMTC.SetEvent(WE_SETFOCUS, _OnNMTCSetfocusFnc);
	//m_wndNMTC.SetEvent(WE_KILLFOCUS, _OnNMTCKillfocusFnc);
	m_wndNMTC.SetEvent(WE_CHECKVALUE, _OnNMTCCheckValueFnc);
	m_wndBSSA.SetEvent(WE_SELENDOK, _OnBSSASelendokFnc);
	//m_wndBSSA.SetEvent(WE_SETFOCUS, _OnBSSASetfocusFnc);
	//m_wndBSSA.SetEvent(WE_KILLFOCUS, _OnBSSAKillfocusFnc);
	m_wndBSSA.SetEvent(WE_SELCHANGE, _OnBSSASelectChangeFnc);
	m_wndBSSA.SetEvent(WE_LOADDATA, _OnBSSALoadDataFnc);
	//m_wndBSSA.SetEvent(WE_ADDNEW, _OnBSSAAddNewFnc);
	//m_wndGhiChu.SetEvent(WE_CHANGE, _OnGhiChuChangeFnc);
	//m_wndGhiChu.SetEvent(WE_SETFOCUS, _OnGhiChuSetfocusFnc);
	//m_wndGhiChu.SetEvent(WE_KILLFOCUS, _OnGhiChuKillfocusFnc);
	m_wndGhiChu.SetEvent(WE_CHECKVALUE, _OnGhiChuCheckValueFnc);
	m_wndSave.SetEvent(WE_CLICK, _OnSaveSelectFnc);
	m_wndClose.SetEvent(WE_CLICK, _OnCloseSelectFnc);
	SetMode(VM_NONE);

}
void CIVFTDKichthichBuongTrungPopup::OnDoDataExchange(CDataExchange* pDX){
	DDX_TextEx(pDX, m_wndNgayCK.GetDlgCtrlID(), m_szNgayCK);
	DDX_TextEx(pDX, m_wndNgày.GetDlgCtrlID(), m_szNgày);
	DDX_Text(pDX, m_wndQuyetDinh.GetDlgCtrlID(), m_szQuyetDinh);
	DDX_Text(pDX, m_wndCC.GetDlgCtrlID(), m_szCC);
	DDX_Text(pDX, m_wndFSH.GetDlgCtrlID(), m_szFSH);
	DDX_Text(pDX, m_wndGNRHA.GetDlgCtrlID(), m_szGNRHA);
	DDX_Text(pDX, m_wndBTP.GetDlgCtrlID(), m_szBTP);
	DDX_Text(pDX, m_wndBTT.GetDlgCtrlID(), m_szBTT);
	DDX_Text(pDX, m_wndNMTC.GetDlgCtrlID(), m_szNMTC);
	DDX_TextEx(pDX, m_wndBSSA.GetDlgCtrlID(), m_szBSSAKey);
	DDX_Text(pDX, m_wndGhiChu.GetDlgCtrlID(), m_szGhiChu);

}
void CIVFTDKichthichBuongTrungPopup::UpdateJson(BOOL bSave){
	if(bSave)
	{
			
	m_jData[_T("NgayCK")] =  m_szNgayCK;
	m_jData[_T("Ngày")] =  m_szNgày;
	m_jData[_T("QuyetDinh")] =  m_szQuyetDinh;
	m_jData[_T("CC")] =  m_szCC;
	m_jData[_T("FSH")] =  m_szFSH;
	m_jData[_T("GNRHA")] =  m_szGNRHA;
	m_jData[_T("BTP")] =  m_szBTP;
	m_jData[_T("BTT")] =  m_szBTT;
	m_jData[_T("NMTC")] =  m_szNMTC;
	m_jData[_T("BSSA")] =  m_szBSSAKey;
	m_jData[_T("GhiChu")] =  m_szGhiChu;
	}
	else
	{
			
	m_jData[_T("NgayCK")].GetValue(m_szNgayCK);
	m_jData[_T("Ngày")].GetValue(m_szNgày);
	m_jData[_T("QuyetDinh")].GetValue(m_szQuyetDinh);
	m_jData[_T("CC")].GetValue(m_szCC);
	m_jData[_T("FSH")].GetValue(m_szFSH);
	m_jData[_T("GNRHA")].GetValue(m_szGNRHA);
	m_jData[_T("BTP")].GetValue(m_szBTP);
	m_jData[_T("BTT")].GetValue(m_szBTT);
	m_jData[_T("NMTC")].GetValue(m_szNMTC);
	m_jData[_T("BSSA")].GetValue(m_szBSSAKey);
	m_jData[_T("GhiChu")].GetValue(m_szGhiChu);
	}

}
void CIVFTDKichthichBuongTrungPopup::GetDataToScreen(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	CRecord rs(&pMF->m_db);
	CString szSQL;
	szSQL.Format(_T("SELECT * FROM "));
	rs.ExecSQL(szSQL);
	rs.GetValue(_T("NGAYCK"), m_szNgayCK);
	rs.GetValue(_T("NGAYTHEODOI"), m_szNgày);
	rs.GetValue(_T("QUYETDINH"), m_szQuyetDinh);
	rs.GetValue(_T("CC"), m_szCC);
	rs.GetValue(_T("FSH"), m_szFSH);
	rs.GetValue(_T("GNRHA"), m_szGNRHA);
	rs.GetValue(_T("BT_P"), m_szBTP);
	rs.GetValue(_T("BT_T"), m_szBTT);
	rs.GetValue(_T("NMTC"), m_szNMTC);
	rs.GetValue(_T("BACSI_SA"), m_szBSSAKey);
	rs.GetValue(_T("GHICHU"), m_szGhiChu);

}
void CIVFTDKichthichBuongTrungPopup::GetScreenToData(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	m_ivf_nangnoanTbl.SetValue(_T("NGAYCK"), m_szNgayCK);
	m_ivf_nangnoanTbl.SetValue(_T("NGAYTHEODOI"), m_szNgày);
	m_ivf_nangnoanTbl.SetValue(_T("QUYETDINH"), m_szQuyetDinh);
	m_ivf_nangnoanTbl.SetValue(_T("CC"), m_szCC);
	m_ivf_nangnoanTbl.SetValue(_T("FSH"), m_szFSH);
	m_ivf_nangnoanTbl.SetValue(_T("GNRHA"), m_szGNRHA);
	m_ivf_nangnoanTbl.SetValue(_T("BT_P"), m_szBTP);
	m_ivf_nangnoanTbl.SetValue(_T("BT_T"), m_szBTT);
	m_ivf_nangnoanTbl.SetValue(_T("NMTC"), m_szNMTC);
	m_ivf_nangnoanTbl.SetValue(_T("BACSI_SA"), m_szBSSAKey);
	m_ivf_nangnoanTbl.SetValue(_T("GHICHU"), m_szGhiChu);

}
void CIVFTDKichthichBuongTrungPopup::SetDefaultValues(){

	m_szNgayCK.Empty();
	m_szNgày.Empty();
	m_szQuyetDinh.Empty();
	m_szCC.Empty();
	m_szFSH.Empty();
	m_szGNRHA.Empty();
	m_szBTP.Empty();
	m_szBTT.Empty();
	m_szNMTC.Empty();
	m_szBSSAKey.Empty();
	m_szGhiChu.Empty();

}
int CIVFTDKichthichBuongTrungPopup::SetMode(int nMode){
 		int nOldMode = GetMode();
 		CGuiDialog::SetMode(nMode);
 		CMainFrame *pMF = (CMainFrame *) AfxGetMainWnd();
 		CString szSQL;
 		CRecord rs(&pMF->m_db);
  		switch(nMode){
 		case VM_ADD: 
 			EnableControls(TRUE);
 			EnableButtons(TRUE, 3, 4, -1);
 			SetDefaultValues();
 			break;
 		case VM_EDIT: 
 			EnableControls(TRUE);
 			EnableButtons(TRUE, 3, 4, -1);
 			break;
 		case VM_VIEW: 
 			EnableControls(FALSE);
 			EnableButtons(FALSE, 3, 4, -1);
 			break;
 		case VM_NONE: 
 			EnableControls(FALSE);
 			EnableButtons(TRUE, 0, 6, -1);
 			SetDefaultValues();
 			break;
 		};
 		UpdateData(FALSE);
 		return nOldMode;
}
/*void CIVFTDKichthichBuongTrungPopup::OnNgayCKChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNgayCKSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNgayCKKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnNgayCKCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnNgàyChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNgàySetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNgàyKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnNgàyCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnQuyetDinhChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnQuyetDinhSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnQuyetDinhKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnQuyetDinhCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnCCChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnCCSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnCCKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnCCCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnFSHChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnFSHSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnFSHKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnFSHCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnGNRHAChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnGNRHASetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnGNRHAKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnGNRHACheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnBTPChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnBTPSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnBTPKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnBTPCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnBTTChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnBTTSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnBTTKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnBTTCheckValue(){
	return 0;
} 
/*void CIVFTDKichthichBuongTrungPopup::OnNMTCChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNMTCSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnNMTCKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnNMTCCheckValue(){
	return 0;
} 
void CIVFTDKichthichBuongTrungPopup::OnBSSASelectChange(int nOldItemSel, int nNewItemSel){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	
} 
void CIVFTDKichthichBuongTrungPopup::OnBSSASelendok(){
	 
}
/*void CIVFTDKichthichBuongTrungPopup::OnBSSASetfocus(){
	
}*/
/*void CIVFTDKichthichBuongTrungPopup::OnBSSAKillfocus(){
	
}*/
long CIVFTDKichthichBuongTrungPopup::OnBSSALoadData(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
/*
	CRecord rs(&pMF->m_db);
	CString szSQL, szWhere;
	if(m_wndBSSA.IsSearchKey() && !m_szBSSAKey.IsEmpty()){
	 szWhere.Format(_T(" and id='%s' "), m_szBSSAKey
};
	m_wndBSSA.DeleteAllItems(); 
	int nCount = 0;
	szSQL.Format(_T("SELECT fld1 as id, fld2 as name FROM tbl WHERE 1=1 %s ORDER BY id "), szWhere
	nCount = rs.ExecSQL(szSQL);
	while(!rs.IsEOF()){ 
		m_wndBSSA.AddItems(
			rs.GetValue(_T("id")), 
			rs.GetValue(_T("name")), NULL);
		rs.MoveNext();
	}
	return nCount;
*/
	return 0;
}
/*void CIVFTDKichthichBuongTrungPopup::OnBSSAAddNew(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnGhiChuChange(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnGhiChuSetfocus(){
	
} */
/*void CIVFTDKichthichBuongTrungPopup::OnGhiChuKillfocus(){
	
} */
int CIVFTDKichthichBuongTrungPopup::OnGhiChuCheckValue(){
	return 0;
} 
void CIVFTDKichthichBuongTrungPopup::OnSaveSelect(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	
} 
void CIVFTDKichthichBuongTrungPopup::OnCloseSelect(){
	CMainFrame *pMF = (CMainFrame*) AfxGetMainWnd();
	
} 
int CIVFTDKichthichBuongTrungPopup::OnAddIVFTDKichthichBuongTrungPopup(){
 	if(GetMode() == VM_ADD || GetMode() == VM_EDIT)
 		return -1;
 	CMainFrame *pMF = (CMainFrame *) AfxGetMainWnd();
 	SetMode(VM_ADD);
	return 0;
}
int CIVFTDKichthichBuongTrungPopup::OnEditIVFTDKichthichBuongTrungPopup(){
 	if(GetMode() != VM_VIEW)
 		return -1;
 	CMainFrame *pMF = (CMainFrame *) AfxGetMainWnd();
 	SetMode(VM_EDIT);
	return 0;  
}
int CIVFTDKichthichBuongTrungPopup::OnDeleteIVFTDKichthichBuongTrungPopup(){
 	if(GetMode() != VM_VIEW)
 		return -1;
 	CMainFrame *pMF = (CMainFrame *)AfxGetMainWnd();
 	CString szSQL;
 	if(ShowMessage(1, MB_YESNO|MB_ICONQUESTION|MB_DEFBUTTON2) == IDNO)
 		return -1;
 	szSQL.Format(_T("DELETE FROM  WHERE  AND") );
 	int ret = pMF->ExecSQL(szSQL);
 	if(ret >= 0){
 		SetMode(VM_NONE);
 		OnCancelIVFTDKichthichBuongTrungPopup();
 	}
	return 0;
}
int CIVFTDKichthichBuongTrungPopup::OnSaveIVFTDKichthichBuongTrungPopup(){
 	if(GetMode() != VM_ADD && GetMode() != VM_EDIT)
 		return -1;
 	if(!IsValidateData())
 		return -1;
 	CMainFrame *pMF = (CMainFrame *)AfxGetMainWnd();
 	CString szSQL;
 	if(GetMode() == VM_ADD){
 		//szSQL = m_ivf_nangnoanTbl.GetInsertSQL();
 	}
 	else if(GetMode() == VM_EDIT){
 		CString szWhere;
 		szWhere.Format(_T(" WHERE"));
 		//szSQL = m_ivf_nangnoanTbl.GetUpdateSQL(_T("createdby,createddate"));
 		szSQL += szWhere;
 	}
 _fmsg(_T("%s"), szSQL);
 	int ret = pMF->ExecSQL(szSQL);
 	if(ret > 0)
 	{
 		//OnIVFTDKichthichBuongTrungPopupListLoadData();
 		SetMode(VM_VIEW);
 	}
 	else
 	{
 	}
 	return ret;
 	return 0;
}
int CIVFTDKichthichBuongTrungPopup::OnCancelIVFTDKichthichBuongTrungPopup(){
 	if(GetMode() == VM_EDIT)
 	{
 		SetMode(VM_VIEW);
 	} 
 	else 
 	{
 		SetMode(VM_NONE);
 	} 
 	CMainFrame *pMF = (CMainFrame *)AfxGetMainWnd();
 	return 0;
} 
int CIVFTDKichthichBuongTrungPopup::OnIVFTDKichthichBuongTrungPopupListLoadData(){
	return 0;
}
