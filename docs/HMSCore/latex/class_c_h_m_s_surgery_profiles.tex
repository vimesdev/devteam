\doxysection{CHMSSurgery\+Profiles Class Tham chiếu}
\hypertarget{class_c_h_m_s_surgery_profiles}{}\label{class_c_h_m_s_surgery_profiles}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}


View quản lý hồ sơ phẫu thuật.  




{\ttfamily \#include $<$HMSSurgery\+Profiles.\+h$>$}

Sơ đồ kế thừa cho CHMSSurgery\+Profiles\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_c_h_m_s_surgery_profiles}
\end{center}
\end{figure}
\doxysubsubsection*{Các hàm thành viên Public}
\begin{DoxyCompactItemize}
\item 
long \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a4c2731a3d2b3f9de3b9953c7064724c6}{On\+List\+Load\+Data}} ()
\begin{DoxyCompactList}\small\item\em Load dữ liệu danh sách hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a1e738d5b7e7845e3b653dd402213c81f}{On\+List\+Select\+Change}} (int n\+Old\+Item, int n\+New\+Item)
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện thay đổi lựa chọn trong danh sách. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a71091d571caeb6d6a3f0d055c9bc6f80}{On\+List\+Dbl\+Click}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện double click vào hồ sơ \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ae335484a100186f03e99cdee94264a6c}{On\+List\+Delete\+Item}} ()
\begin{DoxyCompactList}\small\item\em Xử lý xóa hồ sơ khỏi danh sách. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ab732f5efb06816093dacca4eb922a530}{On\+Add\+Select}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện click nút thêm. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a5087d2d6431586d1dda33d200d77bf7c}{On\+Edit\+Select}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện click nút sửa. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a95247f7e11234ba018b027c0cb33a287}{On\+Delete\+Select}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện click nút xóa. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a55d53ad775a92d24b2b1997ddc1f1966}{On\+Sign\+Select}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện click nút ký số \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a298c8eebaf787bfb97ad27404b89d5f0}{CHMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Constructor mặc định. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ab1ec8e179a882b88e981237aab401d95}{\texorpdfstring{$\sim$}{\string~}\+CHMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ae38944d1e6b4d71d7c4769c954397fa5}{On\+Create\+Components}} ()
\begin{DoxyCompactList}\small\item\em Tạo các thành phần giao diện. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ac96c5434bcf1125841b935626699bd49}{On\+Initialize\+Components}} ()
\begin{DoxyCompactList}\small\item\em Khởi tạo các thành phần. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a65f453277fcc0d98679d148191c140ca}{On\+Set\+Window\+Events}} ()
\begin{DoxyCompactList}\small\item\em Thiết lập các sự kiện cho cửa sổ \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a2bd8bc8d0d93ce450afcd989eb173319}{On\+Do\+Data\+Exchange}} (CData\+Exchange \texorpdfstring{$\ast$}{*}p\+DX)
\begin{DoxyCompactList}\small\item\em Trao đổi dữ liệu giữa các điều khiển và biến thành viên. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a04dd61db64674f35fbb879bfff460f02}{Update\+Json}} (BOOL b\+Save\+And\+Validate)
\begin{DoxyCompactList}\small\item\em Cập nhật dữ liệu JSON. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a7b8f3d91594c0b9372bf797a9c9b44b2}{Get\+Data\+To\+Screen}} ()
\begin{DoxyCompactList}\small\item\em Lấy dữ liệu từ biến thành viên và hiển thị lên màn hình. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a9eb9fb2393db04ab5068c527461ac4a4}{Get\+Screen\+To\+Data}} ()
\begin{DoxyCompactList}\small\item\em Lấy dữ liệu từ màn hình và lưu vào biến thành viên. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_acf4e0d88dc55e9f89ca2734149ce24b9}{Set\+Default\+Values}} ()
\begin{DoxyCompactList}\small\item\em Đặt các giá trị mặc định cho các điều khiển. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ac776b3c59d2ae36f78c360e683f82db9}{Set\+Mode}} (int n\+Mode)
\begin{DoxyCompactList}\small\item\em Đặt chế độ làm việc cho view. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a6d7a21975020d4aa5f5c2475f5b3e9fb}{On\+Add\+HMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Xử lý thêm hồ sơ phẫu thuật mới. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a57c17fdf1ada7f8349b1ed1cd5e517dd}{On\+Edit\+HMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Xử lý chỉnh sửa hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a1e3d36eb6a3ce3e643f915a9cf0cd5e5}{On\+Delete\+HMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Xử lý xóa hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_ad546bfcfbcf9af000e70400b97eb5c18}{On\+Save\+HMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Xử lý lưu hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a89158b786478f90630f0e1001567e257}{On\+Cancel\+HMSSurgery\+Profiles}} ()
\begin{DoxyCompactList}\small\item\em Xử lý hủy bỏ thao tác. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a4ba09dbfdbe0214ce2a8499e7cc159e3}{On\+HMSSurgery\+Profiles\+List\+Load\+Data}} ()
\begin{DoxyCompactList}\small\item\em Load dữ liệu danh sách hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a2a6a8d7cee8ad7db8a684bb555f6085f}{On\+Resize\+Layout}} ()
\begin{DoxyCompactList}\small\item\em Tính toán lại layout khi resize. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_aba36bb22c74397324a4f51ee24eb3234}{Load}} (long n\+Order\+Id)
\begin{DoxyCompactList}\small\item\em Load dữ liệu hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
afx\+\_\+msg void \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a891dd47da4316a99e4e7fdc1d84815cd}{On\+Size}} (UINT n\+Type, int cx, int cy)
\begin{DoxyCompactList}\small\item\em Khai báo message map cho MFC. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Các thuộc tính Public}
\begin{DoxyCompactItemize}
\item 
long \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a36b11639b47e4148d6c18cf0f9905785}{m\+\_\+n\+Order\+Id}}
\begin{DoxyCompactList}\small\item\em ID của đơn phẫu thuật. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_abc56b7b8bda4027ed7d2a8ffb2a466fb}{m\+\_\+n\+Scale}}
\begin{DoxyCompactList}\small\item\em Tỷ lệ scale cho hiển thị \end{DoxyCompactList}\item 
CGui\+List\+Ctrl \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_affb0a76350f6f7f9ef85d403737a3191}{m\+\_\+wnd\+List}}
\begin{DoxyCompactList}\small\item\em Danh sách hồ sơ phẫu thuật. \end{DoxyCompactList}\item 
CGui\+Button \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a8aabc2635338005c356551dd88550d0d}{m\+\_\+wnd\+Add}}
\begin{DoxyCompactList}\small\item\em Nút thêm hồ sơ \end{DoxyCompactList}\item 
CGui\+Button \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a3b3debd11927eebfde8b2170c5359142}{m\+\_\+wnd\+Edit}}
\begin{DoxyCompactList}\small\item\em Nút sửa hồ sơ \end{DoxyCompactList}\item 
CGui\+Button \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a05078d7186afa124643e6254abf491d2}{m\+\_\+wnd\+Delete}}
\begin{DoxyCompactList}\small\item\em Nút xóa hồ sơ \end{DoxyCompactList}\item 
CGui\+Button \mbox{\hyperlink{class_c_h_m_s_surgery_profiles_a07ce01d50f8e395af6b6a7f2fbeabed8}{m\+\_\+wnd\+Sign}}
\begin{DoxyCompactList}\small\item\em Nút ký số hồ sơ \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Mô tả chi tiết}
View quản lý hồ sơ phẫu thuật. 

Class này kế thừa từ CGui\+View, cung cấp các chức năng\+:
\begin{DoxyItemize}
\item Quản lý danh sách hồ sơ phẫu thuật
\item Thêm, sửa, xóa hồ sơ phẫu thuật
\item Ký số hồ sơ phẫu thuật
\item Load dữ liệu theo Order ID
\item Quản lý scale cho hiển thị 
\end{DoxyItemize}

\label{doc-constructors}
\Hypertarget{class_c_h_m_s_surgery_profiles_doc-constructors}
\doxysubsection{Thông tin về Constructor và Destructor}
\Hypertarget{class_c_h_m_s_surgery_profiles_a298c8eebaf787bfb97ad27404b89d5f0}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{CHMSSurgeryProfiles()}{CHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a298c8eebaf787bfb97ad27404b89d5f0} 
CHMSSurgery\+Profiles\+::\+CHMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Constructor mặc định. 

Khởi tạo view với các giá trị mặc định. \Hypertarget{class_c_h_m_s_surgery_profiles_ab1ec8e179a882b88e981237aab401d95}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!````~CHMSSurgeryProfiles@{\texorpdfstring{$\sim$}{\string~}CHMSSurgeryProfiles}}
\index{````~CHMSSurgeryProfiles@{\texorpdfstring{$\sim$}{\string~}CHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}CHMSSurgeryProfiles()}{\string~CHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ab1ec8e179a882b88e981237aab401d95} 
CHMSSurgery\+Profiles\+::\texorpdfstring{$\sim$}{\string~}\+CHMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destructor. 

Giải phóng tài nguyên và dọn dẹp các thành viên. 

\label{doc-func-members}
\Hypertarget{class_c_h_m_s_surgery_profiles_doc-func-members}
\doxysubsection{Thông tin về hàm thành viên}
\Hypertarget{class_c_h_m_s_surgery_profiles_a7b8f3d91594c0b9372bf797a9c9b44b2}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!GetDataToScreen@{GetDataToScreen}}
\index{GetDataToScreen@{GetDataToScreen}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{GetDataToScreen()}{GetDataToScreen()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a7b8f3d91594c0b9372bf797a9c9b44b2} 
void CHMSSurgery\+Profiles\+::\+Get\+Data\+To\+Screen (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Lấy dữ liệu từ biến thành viên và hiển thị lên màn hình. 

Đồng bộ dữ liệu từ biến thành viên lên các control tương ứng. \Hypertarget{class_c_h_m_s_surgery_profiles_a9eb9fb2393db04ab5068c527461ac4a4}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!GetScreenToData@{GetScreenToData}}
\index{GetScreenToData@{GetScreenToData}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{GetScreenToData()}{GetScreenToData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a9eb9fb2393db04ab5068c527461ac4a4} 
void CHMSSurgery\+Profiles\+::\+Get\+Screen\+To\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Lấy dữ liệu từ màn hình và lưu vào biến thành viên. 

Đồng bộ dữ liệu từ các control về biến thành viên. \Hypertarget{class_c_h_m_s_surgery_profiles_aba36bb22c74397324a4f51ee24eb3234}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!Load@{Load}}
\index{Load@{Load}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{Load()}{Load()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_aba36bb22c74397324a4f51ee24eb3234} 
void CHMSSurgery\+Profiles\+::\+Load (\begin{DoxyParamCaption}\item[{long}]{n\+Order\+Id}{}\end{DoxyParamCaption})}



Load dữ liệu hồ sơ phẫu thuật. 


\begin{DoxyParams}{Các tham số}
{\em n\+Order\+Id} & ID của đơn phẫu thuật\\
\hline
\end{DoxyParams}
Load danh sách hồ sơ phẫu thuật từ database dựa trên Order ID và hiển thị trong list control. \Hypertarget{class_c_h_m_s_surgery_profiles_a6d7a21975020d4aa5f5c2475f5b3e9fb}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnAddHMSSurgeryProfiles@{OnAddHMSSurgeryProfiles}}
\index{OnAddHMSSurgeryProfiles@{OnAddHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnAddHMSSurgeryProfiles()}{OnAddHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a6d7a21975020d4aa5f5c2475f5b3e9fb} 
int CHMSSurgery\+Profiles\+::\+On\+Add\+HMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý thêm hồ sơ phẫu thuật mới. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Tạo hồ sơ phẫu thuật mới cho đơn phẫu thuật. \Hypertarget{class_c_h_m_s_surgery_profiles_ab732f5efb06816093dacca4eb922a530}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnAddSelect@{OnAddSelect}}
\index{OnAddSelect@{OnAddSelect}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnAddSelect()}{OnAddSelect()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ab732f5efb06816093dacca4eb922a530} 
void CHMSSurgery\+Profiles\+::\+On\+Add\+Select (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện click nút thêm. 

Mở dialog để thêm hồ sơ phẫu thuật mới. \Hypertarget{class_c_h_m_s_surgery_profiles_a89158b786478f90630f0e1001567e257}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnCancelHMSSurgeryProfiles@{OnCancelHMSSurgeryProfiles}}
\index{OnCancelHMSSurgeryProfiles@{OnCancelHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnCancelHMSSurgeryProfiles()}{OnCancelHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a89158b786478f90630f0e1001567e257} 
int CHMSSurgery\+Profiles\+::\+On\+Cancel\+HMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý hủy bỏ thao tác. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Hủy bỏ các thay đổi và khôi phục trạng thái ban đầu. \Hypertarget{class_c_h_m_s_surgery_profiles_ae38944d1e6b4d71d7c4769c954397fa5}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnCreateComponents@{OnCreateComponents}}
\index{OnCreateComponents@{OnCreateComponents}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnCreateComponents()}{OnCreateComponents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ae38944d1e6b4d71d7c4769c954397fa5} 
void CHMSSurgery\+Profiles\+::\+On\+Create\+Components (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Tạo các thành phần giao diện. 

Tạo list control và các nút chức năng. \Hypertarget{class_c_h_m_s_surgery_profiles_a1e3d36eb6a3ce3e643f915a9cf0cd5e5}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnDeleteHMSSurgeryProfiles@{OnDeleteHMSSurgeryProfiles}}
\index{OnDeleteHMSSurgeryProfiles@{OnDeleteHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnDeleteHMSSurgeryProfiles()}{OnDeleteHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a1e3d36eb6a3ce3e643f915a9cf0cd5e5} 
int CHMSSurgery\+Profiles\+::\+On\+Delete\+HMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý xóa hồ sơ phẫu thuật. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Xóa hồ sơ phẫu thuật sau khi xác nhận từ người dùng. \Hypertarget{class_c_h_m_s_surgery_profiles_a95247f7e11234ba018b027c0cb33a287}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnDeleteSelect@{OnDeleteSelect}}
\index{OnDeleteSelect@{OnDeleteSelect}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnDeleteSelect()}{OnDeleteSelect()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a95247f7e11234ba018b027c0cb33a287} 
void CHMSSurgery\+Profiles\+::\+On\+Delete\+Select (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện click nút xóa. 

Xóa hồ sơ phẫu thuật được chọn. \Hypertarget{class_c_h_m_s_surgery_profiles_a2bd8bc8d0d93ce450afcd989eb173319}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnDoDataExchange@{OnDoDataExchange}}
\index{OnDoDataExchange@{OnDoDataExchange}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnDoDataExchange()}{OnDoDataExchange()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a2bd8bc8d0d93ce450afcd989eb173319} 
void CHMSSurgery\+Profiles\+::\+On\+Do\+Data\+Exchange (\begin{DoxyParamCaption}\item[{CData\+Exchange \texorpdfstring{$\ast$}{*}}]{p\+DX}{}\end{DoxyParamCaption})}



Trao đổi dữ liệu giữa các điều khiển và biến thành viên. 


\begin{DoxyParams}{Các tham số}
{\em p\+DX} & Con trỏ đến đối tượng CData\+Exchange\\
\hline
\end{DoxyParams}
Thực hiện DDX để đồng bộ dữ liệu giữa UI và biến thành viên. \Hypertarget{class_c_h_m_s_surgery_profiles_a57c17fdf1ada7f8349b1ed1cd5e517dd}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnEditHMSSurgeryProfiles@{OnEditHMSSurgeryProfiles}}
\index{OnEditHMSSurgeryProfiles@{OnEditHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnEditHMSSurgeryProfiles()}{OnEditHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a57c17fdf1ada7f8349b1ed1cd5e517dd} 
int CHMSSurgery\+Profiles\+::\+On\+Edit\+HMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý chỉnh sửa hồ sơ phẫu thuật. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Chuyển view sang chế độ chỉnh sửa hồ sơ phẫu thuật. \Hypertarget{class_c_h_m_s_surgery_profiles_a5087d2d6431586d1dda33d200d77bf7c}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnEditSelect@{OnEditSelect}}
\index{OnEditSelect@{OnEditSelect}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnEditSelect()}{OnEditSelect()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a5087d2d6431586d1dda33d200d77bf7c} 
void CHMSSurgery\+Profiles\+::\+On\+Edit\+Select (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện click nút sửa. 

Mở dialog để chỉnh sửa hồ sơ phẫu thuật được chọn. \Hypertarget{class_c_h_m_s_surgery_profiles_a4ba09dbfdbe0214ce2a8499e7cc159e3}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnHMSSurgeryProfilesListLoadData@{OnHMSSurgeryProfilesListLoadData}}
\index{OnHMSSurgeryProfilesListLoadData@{OnHMSSurgeryProfilesListLoadData}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnHMSSurgeryProfilesListLoadData()}{OnHMSSurgeryProfilesListLoadData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a4ba09dbfdbe0214ce2a8499e7cc159e3} 
int CHMSSurgery\+Profiles\+::\+On\+HMSSurgery\+Profiles\+List\+Load\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Load dữ liệu danh sách hồ sơ phẫu thuật. 

\begin{DoxyReturn}{Giá trị trả về}
Số lượng bản ghi đã load
\end{DoxyReturn}
Load danh sách hồ sơ phẫu thuật từ database. Tương tự \doxylink{class_c_h_m_s_surgery_profiles_a4c2731a3d2b3f9de3b9953c7064724c6}{On\+List\+Load\+Data()}. \Hypertarget{class_c_h_m_s_surgery_profiles_ac96c5434bcf1125841b935626699bd49}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnInitializeComponents@{OnInitializeComponents}}
\index{OnInitializeComponents@{OnInitializeComponents}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnInitializeComponents()}{OnInitializeComponents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ac96c5434bcf1125841b935626699bd49} 
void CHMSSurgery\+Profiles\+::\+On\+Initialize\+Components (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Khởi tạo các thành phần. 

Thiết lập các thuộc tính ban đầu cho các control. \Hypertarget{class_c_h_m_s_surgery_profiles_a71091d571caeb6d6a3f0d055c9bc6f80}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnListDblClick@{OnListDblClick}}
\index{OnListDblClick@{OnListDblClick}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnListDblClick()}{OnListDblClick()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a71091d571caeb6d6a3f0d055c9bc6f80} 
void CHMSSurgery\+Profiles\+::\+On\+List\+Dbl\+Click (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện double click vào hồ sơ 

Mở dialog chỉnh sửa hồ sơ phẫu thuật. \Hypertarget{class_c_h_m_s_surgery_profiles_ae335484a100186f03e99cdee94264a6c}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnListDeleteItem@{OnListDeleteItem}}
\index{OnListDeleteItem@{OnListDeleteItem}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnListDeleteItem()}{OnListDeleteItem()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ae335484a100186f03e99cdee94264a6c} 
int CHMSSurgery\+Profiles\+::\+On\+List\+Delete\+Item (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý xóa hồ sơ khỏi danh sách. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Xóa hồ sơ phẫu thuật được chọn sau khi xác nhận. \Hypertarget{class_c_h_m_s_surgery_profiles_a4c2731a3d2b3f9de3b9953c7064724c6}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnListLoadData@{OnListLoadData}}
\index{OnListLoadData@{OnListLoadData}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnListLoadData()}{OnListLoadData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a4c2731a3d2b3f9de3b9953c7064724c6} 
long CHMSSurgery\+Profiles\+::\+On\+List\+Load\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Load dữ liệu danh sách hồ sơ phẫu thuật. 

\begin{DoxyReturn}{Giá trị trả về}
Số lượng hồ sơ đã load
\end{DoxyReturn}
Load danh sách hồ sơ phẫu thuật từ database vào list control dựa trên m\+\_\+n\+Order\+Id. \Hypertarget{class_c_h_m_s_surgery_profiles_a1e738d5b7e7845e3b653dd402213c81f}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnListSelectChange@{OnListSelectChange}}
\index{OnListSelectChange@{OnListSelectChange}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnListSelectChange()}{OnListSelectChange()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a1e738d5b7e7845e3b653dd402213c81f} 
void CHMSSurgery\+Profiles\+::\+On\+List\+Select\+Change (\begin{DoxyParamCaption}\item[{int}]{n\+Old\+Item}{, }\item[{int}]{n\+New\+Item}{}\end{DoxyParamCaption})}



Xử lý sự kiện thay đổi lựa chọn trong danh sách. 


\begin{DoxyParams}{Các tham số}
{\em n\+Old\+Item} & Index của item cũ \\
\hline
{\em n\+New\+Item} & Index của item mới\\
\hline
\end{DoxyParams}
Cập nhật thông tin khi người dùng chọn hồ sơ khác. \Hypertarget{class_c_h_m_s_surgery_profiles_a2a6a8d7cee8ad7db8a684bb555f6085f}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnResizeLayout@{OnResizeLayout}}
\index{OnResizeLayout@{OnResizeLayout}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnResizeLayout()}{OnResizeLayout()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a2a6a8d7cee8ad7db8a684bb555f6085f} 
void CHMSSurgery\+Profiles\+::\+On\+Resize\+Layout (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Tính toán lại layout khi resize. 

Tính toán lại kích thước và vị trí của các control khi cửa sổ thay đổi kích thước. \Hypertarget{class_c_h_m_s_surgery_profiles_ad546bfcfbcf9af000e70400b97eb5c18}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnSaveHMSSurgeryProfiles@{OnSaveHMSSurgeryProfiles}}
\index{OnSaveHMSSurgeryProfiles@{OnSaveHMSSurgeryProfiles}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnSaveHMSSurgeryProfiles()}{OnSaveHMSSurgeryProfiles()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ad546bfcfbcf9af000e70400b97eb5c18} 
int CHMSSurgery\+Profiles\+::\+On\+Save\+HMSSurgery\+Profiles (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý lưu hồ sơ phẫu thuật. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Lưu thông tin hồ sơ phẫu thuật vào database. \Hypertarget{class_c_h_m_s_surgery_profiles_a65f453277fcc0d98679d148191c140ca}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnSetWindowEvents@{OnSetWindowEvents}}
\index{OnSetWindowEvents@{OnSetWindowEvents}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnSetWindowEvents()}{OnSetWindowEvents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a65f453277fcc0d98679d148191c140ca} 
void CHMSSurgery\+Profiles\+::\+On\+Set\+Window\+Events (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Thiết lập các sự kiện cho cửa sổ 

Đăng ký các event handler cho các control. \Hypertarget{class_c_h_m_s_surgery_profiles_a55d53ad775a92d24b2b1997ddc1f1966}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnSignSelect@{OnSignSelect}}
\index{OnSignSelect@{OnSignSelect}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnSignSelect()}{OnSignSelect()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a55d53ad775a92d24b2b1997ddc1f1966} 
void CHMSSurgery\+Profiles\+::\+On\+Sign\+Select (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện click nút ký số 

Mở dialog để ký số hồ sơ phẫu thuật được chọn. \Hypertarget{class_c_h_m_s_surgery_profiles_a891dd47da4316a99e4e7fdc1d84815cd}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!OnSize@{OnSize}}
\index{OnSize@{OnSize}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{OnSize()}{OnSize()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a891dd47da4316a99e4e7fdc1d84815cd} 
afx\+\_\+msg void CHMSSurgery\+Profiles\+::\+On\+Size (\begin{DoxyParamCaption}\item[{UINT}]{n\+Type}{, }\item[{int}]{cx}{, }\item[{int}]{cy}{}\end{DoxyParamCaption})}



Khai báo message map cho MFC. 

Khai báo để MFC có thể ánh xạ các message Windows đến các hàm xử lý tương ứng.

Xử lý khi view thay đổi kích thước 
\begin{DoxyParams}{Các tham số}
{\em n\+Type} & Loại thay đổi kích thước (SIZE\+\_\+\+MINIMIZED, SIZE\+\_\+\+MAXIMIZED, SIZE\+\_\+\+RESTORED) \\
\hline
{\em cx} & Chiều rộng mới \\
\hline
{\em cy} & Chiều cao mới\\
\hline
\end{DoxyParams}
Tính toán lại layout của các control khi kích thước thay đổi. \Hypertarget{class_c_h_m_s_surgery_profiles_acf4e0d88dc55e9f89ca2734149ce24b9}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!SetDefaultValues@{SetDefaultValues}}
\index{SetDefaultValues@{SetDefaultValues}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{SetDefaultValues()}{SetDefaultValues()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_acf4e0d88dc55e9f89ca2734149ce24b9} 
void CHMSSurgery\+Profiles\+::\+Set\+Default\+Values (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Đặt các giá trị mặc định cho các điều khiển. 

Thiết lập giá trị mặc định cho các control. \Hypertarget{class_c_h_m_s_surgery_profiles_ac776b3c59d2ae36f78c360e683f82db9}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!SetMode@{SetMode}}
\index{SetMode@{SetMode}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{SetMode()}{SetMode()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_ac776b3c59d2ae36f78c360e683f82db9} 
int CHMSSurgery\+Profiles\+::\+Set\+Mode (\begin{DoxyParamCaption}\item[{int}]{n\+Mode}{}\end{DoxyParamCaption})}



Đặt chế độ làm việc cho view. 


\begin{DoxyParams}{Các tham số}
{\em n\+Mode} & Chế độ làm việc (VIEW\+\_\+\+MODE, ADD\+\_\+\+MODE, EDIT\+\_\+\+MODE) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Giá trị trả về}
Chế độ làm việc hiện tại
\end{DoxyReturn}
Thiết lập chế độ làm việc cho view và enable/disable các control tương ứng. \Hypertarget{class_c_h_m_s_surgery_profiles_a04dd61db64674f35fbb879bfff460f02}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!UpdateJson@{UpdateJson}}
\index{UpdateJson@{UpdateJson}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{UpdateJson()}{UpdateJson()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a04dd61db64674f35fbb879bfff460f02} 
void CHMSSurgery\+Profiles\+::\+Update\+Json (\begin{DoxyParamCaption}\item[{BOOL}]{b\+Save\+And\+Validate}{}\end{DoxyParamCaption})}



Cập nhật dữ liệu JSON. 


\begin{DoxyParams}{Các tham số}
{\em b\+Save\+And\+Validate} & TRUE để lưu và validate, FALSE để chỉ validate\\
\hline
\end{DoxyParams}
Cập nhật dữ liệu JSON từ database và thiết lập cho các control. 

\label{doc-variable-members}
\Hypertarget{class_c_h_m_s_surgery_profiles_doc-variable-members}
\doxysubsection{Thông tin về Member Data}
\Hypertarget{class_c_h_m_s_surgery_profiles_a36b11639b47e4148d6c18cf0f9905785}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_nOrderId@{m\_nOrderId}}
\index{m\_nOrderId@{m\_nOrderId}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_nOrderId}{m\_nOrderId}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a36b11639b47e4148d6c18cf0f9905785} 
long CHMSSurgery\+Profiles\+::m\+\_\+n\+Order\+Id}



ID của đơn phẫu thuật. 

\Hypertarget{class_c_h_m_s_surgery_profiles_abc56b7b8bda4027ed7d2a8ffb2a466fb}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_nScale@{m\_nScale}}
\index{m\_nScale@{m\_nScale}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_nScale}{m\_nScale}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_abc56b7b8bda4027ed7d2a8ffb2a466fb} 
double CHMSSurgery\+Profiles\+::m\+\_\+n\+Scale}



Tỷ lệ scale cho hiển thị 

\Hypertarget{class_c_h_m_s_surgery_profiles_a8aabc2635338005c356551dd88550d0d}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_wndAdd@{m\_wndAdd}}
\index{m\_wndAdd@{m\_wndAdd}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_wndAdd}{m\_wndAdd}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a8aabc2635338005c356551dd88550d0d} 
CGui\+Button CHMSSurgery\+Profiles\+::m\+\_\+wnd\+Add}



Nút thêm hồ sơ 

\Hypertarget{class_c_h_m_s_surgery_profiles_a05078d7186afa124643e6254abf491d2}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_wndDelete@{m\_wndDelete}}
\index{m\_wndDelete@{m\_wndDelete}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_wndDelete}{m\_wndDelete}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a05078d7186afa124643e6254abf491d2} 
CGui\+Button CHMSSurgery\+Profiles\+::m\+\_\+wnd\+Delete}



Nút xóa hồ sơ 

\Hypertarget{class_c_h_m_s_surgery_profiles_a3b3debd11927eebfde8b2170c5359142}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_wndEdit@{m\_wndEdit}}
\index{m\_wndEdit@{m\_wndEdit}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_wndEdit}{m\_wndEdit}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a3b3debd11927eebfde8b2170c5359142} 
CGui\+Button CHMSSurgery\+Profiles\+::m\+\_\+wnd\+Edit}



Nút sửa hồ sơ 

\Hypertarget{class_c_h_m_s_surgery_profiles_affb0a76350f6f7f9ef85d403737a3191}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_wndList@{m\_wndList}}
\index{m\_wndList@{m\_wndList}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_wndList}{m\_wndList}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_affb0a76350f6f7f9ef85d403737a3191} 
CGui\+List\+Ctrl CHMSSurgery\+Profiles\+::m\+\_\+wnd\+List}



Danh sách hồ sơ phẫu thuật. 

\Hypertarget{class_c_h_m_s_surgery_profiles_a07ce01d50f8e395af6b6a7f2fbeabed8}\index{CHMSSurgeryProfiles@{CHMSSurgeryProfiles}!m\_wndSign@{m\_wndSign}}
\index{m\_wndSign@{m\_wndSign}!CHMSSurgeryProfiles@{CHMSSurgeryProfiles}}
\doxysubsubsection{\texorpdfstring{m\_wndSign}{m\_wndSign}}
{\footnotesize\ttfamily \label{class_c_h_m_s_surgery_profiles_a07ce01d50f8e395af6b6a7f2fbeabed8} 
CGui\+Button CHMSSurgery\+Profiles\+::m\+\_\+wnd\+Sign}



Nút ký số hồ sơ 



Thông tin cho class được biên soạn từ các file sau đây\+:\begin{DoxyCompactItemize}
\item 
Include/\+HMSCore/\mbox{\hyperlink{_h_m_s_surgery_profiles_8h}{HMSSurgery\+Profiles.\+h}}\end{DoxyCompactItemize}
