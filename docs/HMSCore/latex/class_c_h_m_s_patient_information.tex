\doxysection{CHMSPatient\+Information Class Tham chiếu}
\hypertarget{class_c_h_m_s_patient_information}{}\label{class_c_h_m_s_patient_information}\index{CHMSPatientInformation@{CHMSPatientInformation}}


View hiển thị thông tin bệnh nhân và lịch sử điều trị  




{\ttfamily \#include $<$HMSPatient\+Information.\+h$>$}

Sơ đồ kế thừa cho CHMSPatient\+Information\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_c_h_m_s_patient_information}
\end{center}
\end{figure}
\doxysubsubsection*{Các hàm thành viên Public}
\begin{DoxyCompactItemize}
\item 
long \mbox{\hyperlink{class_c_h_m_s_patient_information_a88e78553212bf9661afc2b1f06269f40}{On\+Treat\+List\+Load\+Data}} ()
\begin{DoxyCompactList}\small\item\em Load dữ liệu lịch sử điều trị vào danh sách. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a0cc6514c71f4182d929092aaf700466f}{On\+Treat\+List\+Select\+Change}} (int n\+Old\+Item, int n\+New\+Item)
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện thay đổi lựa chọn trong danh sách lịch sử điều trị \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_ad76b11775dc53b275eaabea1d2b03783}{On\+Treat\+List\+Dbl\+Click}} ()
\begin{DoxyCompactList}\small\item\em Xử lý sự kiện double click vào lần điều trị \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_abf36a7f5b7be709b3626acbb5e8215ff}{On\+Treat\+List\+Delete\+Item}} ()
\begin{DoxyCompactList}\small\item\em Xử lý xóa lần điều trị khỏi danh sách. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_c_h_m_s_patient_information_a33e42c60681746d2cf499e7daecbe269}{CHMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Constructor mặc định. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_c_h_m_s_patient_information_ab72b754dc8dd7845e1343c89f4d867e2}{\texorpdfstring{$\sim$}{\string~}\+CHMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a68ae0b35aecb098b8529117ba68f853a}{On\+Create\+Components}} ()
\begin{DoxyCompactList}\small\item\em Tạo các thành phần giao diện. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a61bf89a432f24cdf3d3e4eba63c3480d}{On\+Initialize\+Components}} ()
\begin{DoxyCompactList}\small\item\em Khởi tạo các thành phần. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a21fa7280569fcc787246498949dfce71}{On\+Set\+Window\+Events}} ()
\begin{DoxyCompactList}\small\item\em Thiết lập các sự kiện cho cửa sổ \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_abd908cbe0d1d95f97139a3f95f48d36d}{On\+Do\+Data\+Exchange}} (CData\+Exchange \texorpdfstring{$\ast$}{*}p\+DX)
\begin{DoxyCompactList}\small\item\em Trao đổi dữ liệu giữa các điều khiển và biến thành viên. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a5bf40bf82c70e7b3d4712d3f3c1664c6}{Update\+Json}} (BOOL b\+Save\+And\+Validate)
\begin{DoxyCompactList}\small\item\em Cập nhật dữ liệu JSON. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a717b7d50a2993f11495e13a03be2fe67}{Get\+Data\+To\+Screen}} ()
\begin{DoxyCompactList}\small\item\em Lấy dữ liệu từ biến thành viên và hiển thị lên màn hình. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a099fd9fa4a2d1ad3928e90a2d6c009e5}{Get\+Screen\+To\+Data}} ()
\begin{DoxyCompactList}\small\item\em Lấy dữ liệu từ màn hình và lưu vào biến thành viên. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a149a66f2392d84358af734da2e9dcb13}{Set\+Default\+Values}} ()
\begin{DoxyCompactList}\small\item\em Đặt các giá trị mặc định cho các điều khiển. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_aefa9934eb9e9c21f154f7b13a7c9a80a}{Set\+Mode}} (int n\+Mode)
\begin{DoxyCompactList}\small\item\em Đặt chế độ làm việc cho view. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_afc6a68c25129b2d2fd6b45e3cc8a1ede}{On\+Add\+HMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Xử lý thêm thông tin bệnh nhân mới. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_a1875c663b1bba5cf5c4489b720b220a1}{On\+Edit\+HMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Xử lý chỉnh sửa thông tin bệnh nhân. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_a2c53b936afc250caa804a1dd83859464}{On\+Delete\+HMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Xử lý xóa thông tin bệnh nhân. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_a53ce93e115c339860b365f7f9128000d}{On\+Save\+HMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Xử lý lưu thông tin bệnh nhân. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_a4bcb552e95a821e34145aaba7e6b4c5a}{On\+Cancel\+HMSPatient\+Information}} ()
\begin{DoxyCompactList}\small\item\em Xử lý hủy bỏ thao tác. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_c_h_m_s_patient_information_af219e57c8618313af5a508c17a9ad9fe}{On\+HMSPatient\+Information\+List\+Load\+Data}} ()
\begin{DoxyCompactList}\small\item\em Load dữ liệu danh sách thông tin bệnh nhân. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a0406b2e053b266598f8a7a805296703c}{Refesh\+Data}} (long n\+Docno, long n\+Patient\+No=0, bool bis\+Out\+Patient=false, long n\+Out\+Patient\+ID=0)
\begin{DoxyCompactList}\small\item\em Làm mới dữ liệu. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_h_m_s_patient_information_a903a4f2b297d81a213d82c1e9b5dfb65}{On\+Resize\+Layout}} ()
\begin{DoxyCompactList}\small\item\em Tính toán lại layout khi resize. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Các thuộc tính Public}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_h_t_m_layout_ctrl}{CHTMLayout\+Ctrl}} \mbox{\hyperlink{class_c_h_m_s_patient_information_a898aa55bf44367cd3a07b379acbb6221}{m\+\_\+wnd\+Patient\+Info}}
\begin{DoxyCompactList}\small\item\em HTMLayout control hiển thị thông tin bệnh nhân bằng HTML. \end{DoxyCompactList}\item 
CGui\+Group\+Box \mbox{\hyperlink{class_c_h_m_s_patient_information_a3b55a43ffcb41de19c74bb619f6ca1ef}{m\+\_\+wnd\+History\+Treatment}}
\begin{DoxyCompactList}\small\item\em Group box chứa lịch sử điều trị \end{DoxyCompactList}\item 
CGrid\+List\+View \mbox{\hyperlink{class_c_h_m_s_patient_information_a9f7b2c71e74fb90f815f855bb21fc9f0}{m\+\_\+wnd\+Treat\+List}}
\begin{DoxyCompactList}\small\item\em Danh sách lịch sử điều trị \end{DoxyCompactList}\item 
long \mbox{\hyperlink{class_c_h_m_s_patient_information_a2b49b59013b5e814f7003978433b740f}{m\+\_\+n\+Document\+No}}
\begin{DoxyCompactList}\small\item\em Số hồ sơ bệnh nhân. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{class_c_h_m_s_patient_information_a494dd787edbc0b33c5b270f903affbc1}{m\+\_\+n\+Patient\+No}}
\begin{DoxyCompactList}\small\item\em Số bệnh nhân. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{class_c_h_m_s_patient_information_a3424a0b6d225c98af5550a7ba9e434b2}{m\+\_\+n\+Out\+Patient\+ID}}
\begin{DoxyCompactList}\small\item\em ID bệnh nhân ngoại trú \end{DoxyCompactList}\item 
BOOL \mbox{\hyperlink{class_c_h_m_s_patient_information_aa5f1b1f8d8819eaf127ad1e071d4bd08}{m\+\_\+b\+Is\+Out\+Patient}}
\begin{DoxyCompactList}\small\item\em Cờ xác định là bệnh nhân ngoại trú (TRUE) hay nội trú (FALSE). \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Mô tả chi tiết}
View hiển thị thông tin bệnh nhân và lịch sử điều trị 

Class này kế thừa từ CGui\+View, cung cấp các chức năng\+:
\begin{DoxyItemize}
\item Hiển thị thông tin chi tiết của bệnh nhân bằng HTMLayout
\item Hiển thị lịch sử điều trị trong danh sách
\item Hỗ trợ cả nội trú và ngoại trú
\item Refresh dữ liệu theo document number hoặc patient number
\item Xem chi tiết từng lần điều trị 
\end{DoxyItemize}

\label{doc-constructors}
\Hypertarget{class_c_h_m_s_patient_information_doc-constructors}
\doxysubsection{Thông tin về Constructor và Destructor}
\Hypertarget{class_c_h_m_s_patient_information_a33e42c60681746d2cf499e7daecbe269}\index{CHMSPatientInformation@{CHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\index{CHMSPatientInformation@{CHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{CHMSPatientInformation()}{CHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a33e42c60681746d2cf499e7daecbe269} 
CHMSPatient\+Information\+::\+CHMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Constructor mặc định. 

Khởi tạo view với các giá trị mặc định. \Hypertarget{class_c_h_m_s_patient_information_ab72b754dc8dd7845e1343c89f4d867e2}\index{CHMSPatientInformation@{CHMSPatientInformation}!````~CHMSPatientInformation@{\texorpdfstring{$\sim$}{\string~}CHMSPatientInformation}}
\index{````~CHMSPatientInformation@{\texorpdfstring{$\sim$}{\string~}CHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}CHMSPatientInformation()}{\string~CHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_ab72b754dc8dd7845e1343c89f4d867e2} 
CHMSPatient\+Information\+::\texorpdfstring{$\sim$}{\string~}\+CHMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destructor. 

Giải phóng tài nguyên và dọn dẹp các thành viên. 

\label{doc-func-members}
\Hypertarget{class_c_h_m_s_patient_information_doc-func-members}
\doxysubsection{Thông tin về hàm thành viên}
\Hypertarget{class_c_h_m_s_patient_information_a717b7d50a2993f11495e13a03be2fe67}\index{CHMSPatientInformation@{CHMSPatientInformation}!GetDataToScreen@{GetDataToScreen}}
\index{GetDataToScreen@{GetDataToScreen}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{GetDataToScreen()}{GetDataToScreen()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a717b7d50a2993f11495e13a03be2fe67} 
void CHMSPatient\+Information\+::\+Get\+Data\+To\+Screen (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Lấy dữ liệu từ biến thành viên và hiển thị lên màn hình. 

Đồng bộ dữ liệu từ biến thành viên lên HTMLayout control và danh sách lịch sử điều trị. \Hypertarget{class_c_h_m_s_patient_information_a099fd9fa4a2d1ad3928e90a2d6c009e5}\index{CHMSPatientInformation@{CHMSPatientInformation}!GetScreenToData@{GetScreenToData}}
\index{GetScreenToData@{GetScreenToData}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{GetScreenToData()}{GetScreenToData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a099fd9fa4a2d1ad3928e90a2d6c009e5} 
void CHMSPatient\+Information\+::\+Get\+Screen\+To\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Lấy dữ liệu từ màn hình và lưu vào biến thành viên. 

Đồng bộ dữ liệu từ HTMLayout control về biến thành viên. \Hypertarget{class_c_h_m_s_patient_information_afc6a68c25129b2d2fd6b45e3cc8a1ede}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnAddHMSPatientInformation@{OnAddHMSPatientInformation}}
\index{OnAddHMSPatientInformation@{OnAddHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnAddHMSPatientInformation()}{OnAddHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_afc6a68c25129b2d2fd6b45e3cc8a1ede} 
int CHMSPatient\+Information\+::\+On\+Add\+HMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý thêm thông tin bệnh nhân mới. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Tạo thông tin bệnh nhân mới (thường không sử dụng trong view này). \Hypertarget{class_c_h_m_s_patient_information_a4bcb552e95a821e34145aaba7e6b4c5a}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnCancelHMSPatientInformation@{OnCancelHMSPatientInformation}}
\index{OnCancelHMSPatientInformation@{OnCancelHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnCancelHMSPatientInformation()}{OnCancelHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a4bcb552e95a821e34145aaba7e6b4c5a} 
int CHMSPatient\+Information\+::\+On\+Cancel\+HMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý hủy bỏ thao tác. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Hủy bỏ các thay đổi và khôi phục trạng thái ban đầu. \Hypertarget{class_c_h_m_s_patient_information_a68ae0b35aecb098b8529117ba68f853a}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnCreateComponents@{OnCreateComponents}}
\index{OnCreateComponents@{OnCreateComponents}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnCreateComponents()}{OnCreateComponents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a68ae0b35aecb098b8529117ba68f853a} 
void CHMSPatient\+Information\+::\+On\+Create\+Components (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Tạo các thành phần giao diện. 

Tạo HTMLayout control và grid list view. \Hypertarget{class_c_h_m_s_patient_information_a2c53b936afc250caa804a1dd83859464}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnDeleteHMSPatientInformation@{OnDeleteHMSPatientInformation}}
\index{OnDeleteHMSPatientInformation@{OnDeleteHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnDeleteHMSPatientInformation()}{OnDeleteHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a2c53b936afc250caa804a1dd83859464} 
int CHMSPatient\+Information\+::\+On\+Delete\+HMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý xóa thông tin bệnh nhân. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Xóa thông tin bệnh nhân (thường không cho phép). \Hypertarget{class_c_h_m_s_patient_information_abd908cbe0d1d95f97139a3f95f48d36d}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnDoDataExchange@{OnDoDataExchange}}
\index{OnDoDataExchange@{OnDoDataExchange}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnDoDataExchange()}{OnDoDataExchange()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_abd908cbe0d1d95f97139a3f95f48d36d} 
void CHMSPatient\+Information\+::\+On\+Do\+Data\+Exchange (\begin{DoxyParamCaption}\item[{CData\+Exchange \texorpdfstring{$\ast$}{*}}]{p\+DX}{}\end{DoxyParamCaption})}



Trao đổi dữ liệu giữa các điều khiển và biến thành viên. 


\begin{DoxyParams}{Các tham số}
{\em p\+DX} & Con trỏ đến đối tượng CData\+Exchange\\
\hline
\end{DoxyParams}
Thực hiện DDX để đồng bộ dữ liệu giữa UI và biến thành viên. \Hypertarget{class_c_h_m_s_patient_information_a1875c663b1bba5cf5c4489b720b220a1}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnEditHMSPatientInformation@{OnEditHMSPatientInformation}}
\index{OnEditHMSPatientInformation@{OnEditHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnEditHMSPatientInformation()}{OnEditHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a1875c663b1bba5cf5c4489b720b220a1} 
int CHMSPatient\+Information\+::\+On\+Edit\+HMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý chỉnh sửa thông tin bệnh nhân. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Chuyển view sang chế độ chỉnh sửa (thường ở chế độ view-\/only). \Hypertarget{class_c_h_m_s_patient_information_af219e57c8618313af5a508c17a9ad9fe}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnHMSPatientInformationListLoadData@{OnHMSPatientInformationListLoadData}}
\index{OnHMSPatientInformationListLoadData@{OnHMSPatientInformationListLoadData}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnHMSPatientInformationListLoadData()}{OnHMSPatientInformationListLoadData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_af219e57c8618313af5a508c17a9ad9fe} 
int CHMSPatient\+Information\+::\+On\+HMSPatient\+Information\+List\+Load\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Load dữ liệu danh sách thông tin bệnh nhân. 

\begin{DoxyReturn}{Giá trị trả về}
Số lượng bản ghi đã load
\end{DoxyReturn}
Load danh sách thông tin bệnh nhân từ database (nếu có). \Hypertarget{class_c_h_m_s_patient_information_a61bf89a432f24cdf3d3e4eba63c3480d}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnInitializeComponents@{OnInitializeComponents}}
\index{OnInitializeComponents@{OnInitializeComponents}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnInitializeComponents()}{OnInitializeComponents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a61bf89a432f24cdf3d3e4eba63c3480d} 
void CHMSPatient\+Information\+::\+On\+Initialize\+Components (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Khởi tạo các thành phần. 

Thiết lập các thuộc tính ban đầu cho các control. \Hypertarget{class_c_h_m_s_patient_information_a903a4f2b297d81a213d82c1e9b5dfb65}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnResizeLayout@{OnResizeLayout}}
\index{OnResizeLayout@{OnResizeLayout}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnResizeLayout()}{OnResizeLayout()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a903a4f2b297d81a213d82c1e9b5dfb65} 
void CHMSPatient\+Information\+::\+On\+Resize\+Layout (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Tính toán lại layout khi resize. 

Tính toán lại kích thước và vị trí của HTMLayout control và danh sách lịch sử điều trị khi cửa sổ thay đổi kích thước. \Hypertarget{class_c_h_m_s_patient_information_a53ce93e115c339860b365f7f9128000d}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnSaveHMSPatientInformation@{OnSaveHMSPatientInformation}}
\index{OnSaveHMSPatientInformation@{OnSaveHMSPatientInformation}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnSaveHMSPatientInformation()}{OnSaveHMSPatientInformation()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a53ce93e115c339860b365f7f9128000d} 
int CHMSPatient\+Information\+::\+On\+Save\+HMSPatient\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý lưu thông tin bệnh nhân. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Lưu thông tin bệnh nhân vào database (nếu có quyền chỉnh sửa). \Hypertarget{class_c_h_m_s_patient_information_a21fa7280569fcc787246498949dfce71}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnSetWindowEvents@{OnSetWindowEvents}}
\index{OnSetWindowEvents@{OnSetWindowEvents}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnSetWindowEvents()}{OnSetWindowEvents()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a21fa7280569fcc787246498949dfce71} 
void CHMSPatient\+Information\+::\+On\+Set\+Window\+Events (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Thiết lập các sự kiện cho cửa sổ 

Đăng ký các event handler cho các control. \Hypertarget{class_c_h_m_s_patient_information_ad76b11775dc53b275eaabea1d2b03783}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnTreatListDblClick@{OnTreatListDblClick}}
\index{OnTreatListDblClick@{OnTreatListDblClick}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnTreatListDblClick()}{OnTreatListDblClick()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_ad76b11775dc53b275eaabea1d2b03783} 
void CHMSPatient\+Information\+::\+On\+Treat\+List\+Dbl\+Click (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý sự kiện double click vào lần điều trị 

Mở view chi tiết cho lần điều trị được chọn (có thể là \doxylink{class_c_e_m_r_view}{CEMRView}). \Hypertarget{class_c_h_m_s_patient_information_abf36a7f5b7be709b3626acbb5e8215ff}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnTreatListDeleteItem@{OnTreatListDeleteItem}}
\index{OnTreatListDeleteItem@{OnTreatListDeleteItem}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnTreatListDeleteItem()}{OnTreatListDeleteItem()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_abf36a7f5b7be709b3626acbb5e8215ff} 
int CHMSPatient\+Information\+::\+On\+Treat\+List\+Delete\+Item (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Xử lý xóa lần điều trị khỏi danh sách. 

\begin{DoxyReturn}{Giá trị trả về}
0 nếu thành công, giá trị khác 0 nếu thất bại
\end{DoxyReturn}
Xóa lần điều trị được chọn sau khi xác nhận (thường không cho phép xóa). \Hypertarget{class_c_h_m_s_patient_information_a88e78553212bf9661afc2b1f06269f40}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnTreatListLoadData@{OnTreatListLoadData}}
\index{OnTreatListLoadData@{OnTreatListLoadData}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnTreatListLoadData()}{OnTreatListLoadData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a88e78553212bf9661afc2b1f06269f40} 
long CHMSPatient\+Information\+::\+On\+Treat\+List\+Load\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Load dữ liệu lịch sử điều trị vào danh sách. 

\begin{DoxyReturn}{Giá trị trả về}
Số lượng bản ghi đã load
\end{DoxyReturn}
Load lịch sử điều trị của bệnh nhân từ database vào grid list view. \Hypertarget{class_c_h_m_s_patient_information_a0cc6514c71f4182d929092aaf700466f}\index{CHMSPatientInformation@{CHMSPatientInformation}!OnTreatListSelectChange@{OnTreatListSelectChange}}
\index{OnTreatListSelectChange@{OnTreatListSelectChange}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{OnTreatListSelectChange()}{OnTreatListSelectChange()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a0cc6514c71f4182d929092aaf700466f} 
void CHMSPatient\+Information\+::\+On\+Treat\+List\+Select\+Change (\begin{DoxyParamCaption}\item[{int}]{n\+Old\+Item}{, }\item[{int}]{n\+New\+Item}{}\end{DoxyParamCaption})}



Xử lý sự kiện thay đổi lựa chọn trong danh sách lịch sử điều trị 


\begin{DoxyParams}{Các tham số}
{\em n\+Old\+Item} & Index của item cũ \\
\hline
{\em n\+New\+Item} & Index của item mới\\
\hline
\end{DoxyParams}
Cập nhật thông tin khi người dùng chọn lần điều trị khác. \Hypertarget{class_c_h_m_s_patient_information_a0406b2e053b266598f8a7a805296703c}\index{CHMSPatientInformation@{CHMSPatientInformation}!RefeshData@{RefeshData}}
\index{RefeshData@{RefeshData}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{RefeshData()}{RefeshData()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a0406b2e053b266598f8a7a805296703c} 
void CHMSPatient\+Information\+::\+Refesh\+Data (\begin{DoxyParamCaption}\item[{long}]{n\+Docno}{, }\item[{long}]{n\+Patient\+No}{ = {\ttfamily 0}, }\item[{bool}]{bis\+Out\+Patient}{ = {\ttfamily false}, }\item[{long}]{n\+Out\+Patient\+ID}{ = {\ttfamily 0}}\end{DoxyParamCaption})}



Làm mới dữ liệu. 


\begin{DoxyParams}{Các tham số}
{\em n\+Docno} & Số hồ sơ \\
\hline
{\em n\+Patient\+No} & Số bệnh nhân (mặc định 0) \\
\hline
{\em bis\+Out\+Patient} & true nếu là ngoại trú, false nếu nội trú (mặc định false) \\
\hline
{\em n\+Out\+Patient\+ID} & ID bệnh nhân ngoại trú (mặc định 0)\\
\hline
\end{DoxyParams}
Reload thông tin bệnh nhân và lịch sử điều trị từ database và cập nhật HTMLayout control và danh sách lịch sử điều trị. \Hypertarget{class_c_h_m_s_patient_information_a149a66f2392d84358af734da2e9dcb13}\index{CHMSPatientInformation@{CHMSPatientInformation}!SetDefaultValues@{SetDefaultValues}}
\index{SetDefaultValues@{SetDefaultValues}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{SetDefaultValues()}{SetDefaultValues()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a149a66f2392d84358af734da2e9dcb13} 
void CHMSPatient\+Information\+::\+Set\+Default\+Values (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Đặt các giá trị mặc định cho các điều khiển. 

Thiết lập giá trị mặc định cho các control. \Hypertarget{class_c_h_m_s_patient_information_aefa9934eb9e9c21f154f7b13a7c9a80a}\index{CHMSPatientInformation@{CHMSPatientInformation}!SetMode@{SetMode}}
\index{SetMode@{SetMode}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{SetMode()}{SetMode()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_aefa9934eb9e9c21f154f7b13a7c9a80a} 
int CHMSPatient\+Information\+::\+Set\+Mode (\begin{DoxyParamCaption}\item[{int}]{n\+Mode}{}\end{DoxyParamCaption})}



Đặt chế độ làm việc cho view. 


\begin{DoxyParams}{Các tham số}
{\em n\+Mode} & Chế độ làm việc (VIEW\+\_\+\+MODE, ADD\+\_\+\+MODE, EDIT\+\_\+\+MODE) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Giá trị trả về}
Chế độ làm việc hiện tại
\end{DoxyReturn}
Thiết lập chế độ làm việc cho view và enable/disable các control tương ứng. \Hypertarget{class_c_h_m_s_patient_information_a5bf40bf82c70e7b3d4712d3f3c1664c6}\index{CHMSPatientInformation@{CHMSPatientInformation}!UpdateJson@{UpdateJson}}
\index{UpdateJson@{UpdateJson}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{UpdateJson()}{UpdateJson()}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a5bf40bf82c70e7b3d4712d3f3c1664c6} 
void CHMSPatient\+Information\+::\+Update\+Json (\begin{DoxyParamCaption}\item[{BOOL}]{b\+Save\+And\+Validate}{}\end{DoxyParamCaption})}



Cập nhật dữ liệu JSON. 


\begin{DoxyParams}{Các tham số}
{\em b\+Save\+And\+Validate} & TRUE để lưu và validate, FALSE để chỉ validate\\
\hline
\end{DoxyParams}
Cập nhật dữ liệu JSON từ database và thiết lập cho HTMLayout control. 

\label{doc-variable-members}
\Hypertarget{class_c_h_m_s_patient_information_doc-variable-members}
\doxysubsection{Thông tin về Member Data}
\Hypertarget{class_c_h_m_s_patient_information_aa5f1b1f8d8819eaf127ad1e071d4bd08}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_bIsOutPatient@{m\_bIsOutPatient}}
\index{m\_bIsOutPatient@{m\_bIsOutPatient}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_bIsOutPatient}{m\_bIsOutPatient}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_aa5f1b1f8d8819eaf127ad1e071d4bd08} 
BOOL CHMSPatient\+Information\+::m\+\_\+b\+Is\+Out\+Patient}



Cờ xác định là bệnh nhân ngoại trú (TRUE) hay nội trú (FALSE). 

\Hypertarget{class_c_h_m_s_patient_information_a2b49b59013b5e814f7003978433b740f}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_nDocumentNo@{m\_nDocumentNo}}
\index{m\_nDocumentNo@{m\_nDocumentNo}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_nDocumentNo}{m\_nDocumentNo}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a2b49b59013b5e814f7003978433b740f} 
long CHMSPatient\+Information\+::m\+\_\+n\+Document\+No}



Số hồ sơ bệnh nhân. 

\Hypertarget{class_c_h_m_s_patient_information_a3424a0b6d225c98af5550a7ba9e434b2}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_nOutPatientID@{m\_nOutPatientID}}
\index{m\_nOutPatientID@{m\_nOutPatientID}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_nOutPatientID}{m\_nOutPatientID}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a3424a0b6d225c98af5550a7ba9e434b2} 
long CHMSPatient\+Information\+::m\+\_\+n\+Out\+Patient\+ID}



ID bệnh nhân ngoại trú 

\Hypertarget{class_c_h_m_s_patient_information_a494dd787edbc0b33c5b270f903affbc1}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_nPatientNo@{m\_nPatientNo}}
\index{m\_nPatientNo@{m\_nPatientNo}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_nPatientNo}{m\_nPatientNo}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a494dd787edbc0b33c5b270f903affbc1} 
long CHMSPatient\+Information\+::m\+\_\+n\+Patient\+No}



Số bệnh nhân. 

\Hypertarget{class_c_h_m_s_patient_information_a3b55a43ffcb41de19c74bb619f6ca1ef}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_wndHistoryTreatment@{m\_wndHistoryTreatment}}
\index{m\_wndHistoryTreatment@{m\_wndHistoryTreatment}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_wndHistoryTreatment}{m\_wndHistoryTreatment}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a3b55a43ffcb41de19c74bb619f6ca1ef} 
CGui\+Group\+Box CHMSPatient\+Information\+::m\+\_\+wnd\+History\+Treatment}



Group box chứa lịch sử điều trị 

\Hypertarget{class_c_h_m_s_patient_information_a898aa55bf44367cd3a07b379acbb6221}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_wndPatientInfo@{m\_wndPatientInfo}}
\index{m\_wndPatientInfo@{m\_wndPatientInfo}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_wndPatientInfo}{m\_wndPatientInfo}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a898aa55bf44367cd3a07b379acbb6221} 
\mbox{\hyperlink{class_c_h_t_m_layout_ctrl}{CHTMLayout\+Ctrl}} CHMSPatient\+Information\+::m\+\_\+wnd\+Patient\+Info}



HTMLayout control hiển thị thông tin bệnh nhân bằng HTML. 

\Hypertarget{class_c_h_m_s_patient_information_a9f7b2c71e74fb90f815f855bb21fc9f0}\index{CHMSPatientInformation@{CHMSPatientInformation}!m\_wndTreatList@{m\_wndTreatList}}
\index{m\_wndTreatList@{m\_wndTreatList}!CHMSPatientInformation@{CHMSPatientInformation}}
\doxysubsubsection{\texorpdfstring{m\_wndTreatList}{m\_wndTreatList}}
{\footnotesize\ttfamily \label{class_c_h_m_s_patient_information_a9f7b2c71e74fb90f815f855bb21fc9f0} 
CGrid\+List\+View CHMSPatient\+Information\+::m\+\_\+wnd\+Treat\+List}



Danh sách lịch sử điều trị 



Thông tin cho class được biên soạn từ các file sau đây\+:\begin{DoxyCompactItemize}
\item 
Include/\+HMSCore/\mbox{\hyperlink{_h_m_s_patient_information_8h}{HMSPatient\+Information.\+h}}\end{DoxyCompactItemize}
