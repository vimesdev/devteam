<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="vi">
  <compounddef id="_p_o_s_connection_8h" kind="file" language="C++">
    <compoundname>POSConnection.h</compoundname>
    <includes local="no">afxinet.h</includes>
    <includes local="no">string</includes>
    <includes refid="_p_o_s_comm_8h" local="yes">POSComm.h</includes>
    <incdepgraph>
      <node id="8">
        <label>CommDefs.h</label>
        <link refid="_comm_defs_8h"/>
      </node>
      <node id="4">
        <label>POSComm.h</label>
        <link refid="_p_o_s_comm_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>Include/HMSCore/POSConnection.h</label>
        <link refid="_p_o_s_connection_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>sdkcommserial.h</label>
        <link refid="_s_d_k_comm_serial_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>afxinet.h</label>
      </node>
      <node id="7">
        <label>afxmt.h</label>
      </node>
      <node id="6">
        <label>queue</label>
      </node>
      <node id="3">
        <label>string</label>
      </node>
    </incdepgraph>
    <innerclass refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o" prot="public">tagCUSTOMERINFO</innerclass>
    <innerclass refid="class_c_p_o_s_connection" prot="public">CPOSConnection</innerclass>
    <sectiondef kind="define">
      <memberdef kind="define" id="_p_o_s_connection_8h_1a39eb45e74103cd12040f759708c982e7" prot="public" static="no">
        <name>DEVICE_ACTIVE</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="5" column="19" bodyfile="Include/HMSCore/POSConnection.h" bodystart="5" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1a2d5970cecbaec2a4f86d9eb90770d879" prot="public" static="no">
        <name>DEVICE_PAYMENT</name>
        <initializer>2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="6" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="6" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1a4a7b76e232cd3a4ca7b075f2992c272b" prot="public" static="no">
        <name>URL_CUSTOMERINFO</name>
        <initializer>_T(&quot;api/v1/retrieveCustomer&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="9" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="9" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1abf44502212ed98f861db7d2e7070bd00" prot="public" static="no">
        <name>URL_ACTIVECARD</name>
        <initializer>_T(&quot;api/v1/activateCard&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="10" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1af7a6e296120fe0a73e4c532a0a3025a3" prot="public" static="no">
        <name>URL_GETSESSIONCODE</name>
        <initializer>_T(&quot;api/v1/getDeviceSessionCode&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="11" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="11" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1a79b949dada75a1f6806df501b52af1e7" prot="public" static="no">
        <name>URL_PAYMENT_INVOKE</name>
        <initializer>_T(&quot;api/v1/invoke&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="12" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1a11e142a4bdd6d6a640cb553b465633e5" prot="public" static="no">
        <name>URL_UNPAY_INVOKE</name>
        <initializer>_T(&quot;api/v1/invoke&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="13" column="9" bodyfile="Include/HMSCore/POSConnection.h" bodystart="13" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_p_o_s_connection_8h_1a5dabba7fc5798b51de21b3e1b8212f21" prot="public" static="no">
        <name>HAVE_POS</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="39" column="10" bodyfile="Include/HMSCore/POSConnection.h" bodystart="39" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" prot="public" static="no">
        <type>struct <ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o" kindref="compound">tagCUSTOMERINFO</ref></type>
        <definition>typedef struct tagCUSTOMERINFO CUSTOMERINFO</definition>
        <argsstring></argsstring>
        <name>CUSTOMERINFO</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="33" column="13"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="_p_o_s_connection_8h_1a53abdf3091ede4be7b7f02d200de8f09" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>CString</type>
        <definition>CString Date2Number</definition>
        <argsstring>(LPCTSTR lpszDate)</argsstring>
        <name>Date2Number</name>
        <param>
          <type>LPCTSTR</type>
          <declname>lpszDate</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/POSConnection.h" line="108" column="9" declfile="Include/HMSCore/POSConnection.h" declline="108" declcolumn="9"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>POSCONNECTION_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>POSCONNECTION_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;afxinet.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="_p_o_s_connection_8h_1a39eb45e74103cd12040f759708c982e7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEVICE_ACTIVE<sp/><sp/><sp/><sp/><sp/><sp/><sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6" refid="_p_o_s_connection_8h_1a2d5970cecbaec2a4f86d9eb90770d879" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEVICE_PAYMENT<sp/><sp/><sp/><sp/><sp/><sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="_p_o_s_connection_8h_1a4a7b76e232cd3a4ca7b075f2992c272b" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>URL_CUSTOMERINFO<sp/><sp/><sp/><sp/>_T(&quot;api/v1/retrieveCustomer&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="_p_o_s_connection_8h_1abf44502212ed98f861db7d2e7070bd00" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>URL_ACTIVECARD<sp/><sp/><sp/><sp/><sp/><sp/>_T(&quot;api/v1/activateCard&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11" refid="_p_o_s_connection_8h_1af7a6e296120fe0a73e4c532a0a3025a3" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>URL_GETSESSIONCODE<sp/><sp/>_T(&quot;api/v1/getDeviceSessionCode&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="_p_o_s_connection_8h_1a79b949dada75a1f6806df501b52af1e7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>URL_PAYMENT_INVOKE<sp/><sp/>_T(&quot;api/v1/invoke&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="_p_o_s_connection_8h_1a11e142a4bdd6d6a640cb553b465633e5" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>URL_UNPAY_INVOKE<sp/><sp/><sp/><sp/>_T(&quot;api/v1/invoke&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o" kindref="compound">tagCUSTOMERINFO</ref>{</highlight></codeline>
<codeline lineno="19" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1adea54cd8035053ddea4cf78b84388dc6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1adea54cd8035053ddea4cf78b84388dc6" kindref="member">FullName</ref>;</highlight></codeline>
<codeline lineno="20" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1aa1a1aa8b9fc42c826368c14d93fb9c12" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1aa1a1aa8b9fc42c826368c14d93fb9c12" kindref="member">BirthDate</ref>;</highlight></codeline>
<codeline lineno="21" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab383031bf9ad0713f121293255f7512e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab383031bf9ad0713f121293255f7512e" kindref="member">Gender</ref>;</highlight></codeline>
<codeline lineno="22" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a15b71e7c33122573e637be53e9eb5c8c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a15b71e7c33122573e637be53e9eb5c8c" kindref="member">IdentityNumber</ref>;</highlight></codeline>
<codeline lineno="23" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a2a4d558fddb3da7b1aab5ae1b12be420" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a2a4d558fddb3da7b1aab5ae1b12be420" kindref="member">GuaranteeIdentityNumber</ref>;</highlight></codeline>
<codeline lineno="24" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a5e5c8b172b229947cfcd9a282e1e3739" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a5e5c8b172b229947cfcd9a282e1e3739" kindref="member">IdentityIssuePlace</ref>;</highlight></codeline>
<codeline lineno="25" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a2c7d1dc5f7cac58c159b825520974089" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a2c7d1dc5f7cac58c159b825520974089" kindref="member">IdentityNumberIssueDate</ref>;</highlight></codeline>
<codeline lineno="26" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab91ebf44d7d191f5f602473016861327" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab91ebf44d7d191f5f602473016861327" kindref="member">Phone</ref>;</highlight></codeline>
<codeline lineno="27" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a24baa1e5a958da17420c961eb9aa33f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a24baa1e5a958da17420c961eb9aa33f3" kindref="member">Email</ref>;</highlight></codeline>
<codeline lineno="28" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a72badc42d3eb73b43810641c70d3bd60" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a72badc42d3eb73b43810641c70d3bd60" kindref="member">Address</ref>;</highlight></codeline>
<codeline lineno="29" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1aecfb5f3396180a87f79f0fc11660b7fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1aecfb5f3396180a87f79f0fc11660b7fa" kindref="member">BankNoPinLimit</ref>;</highlight></codeline>
<codeline lineno="30" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a1ec58e575e2d2dffcf4b10ac79d72030" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1a1ec58e575e2d2dffcf4b10ac79d72030" kindref="member">OnelinkNoPinLimit</ref>;</highlight></codeline>
<codeline lineno="31" refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab41aaae816ac394b2146deaf870a3242" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="structtag_c_u_s_t_o_m_e_r_i_n_f_o_1ab41aaae816ac394b2146deaf870a3242" kindref="member">WithBankCode</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" refkind="member"><highlight class="normal">}<ref refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" kindref="member">CUSTOMERINFO</ref>;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_p_o_s_comm_8h" kindref="compound">POSComm.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>HAVE_POS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="_p_o_s_connection_8h_1a5dabba7fc5798b51de21b3e1b8212f21" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#define<sp/>HAVE_POS<sp/><sp/><sp/><sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="class_c_p_o_s_connection" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">AFX_EXT_CLASS<sp/><ref refid="class_c_p_o_s_connection_1a3bbb2652a33510e8606d2534b8b4f6b5" kindref="member">CPOSConnection</ref></highlight></codeline>
<codeline lineno="44"><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="46" refid="class_c_p_o_s_connection_1a4b3e9262b8b9e73edb29e43b57564633" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CInternetSession*<sp/><ref refid="class_c_p_o_s_connection_1a4b3e9262b8b9e73edb29e43b57564633" kindref="member">m_session</ref>;</highlight></codeline>
<codeline lineno="47" refid="class_c_p_o_s_connection_1a404dac721f40f12526c1310f9cb7bce9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a404dac721f40f12526c1310f9cb7bce9" kindref="member">ConvertJson</ref>(<ref refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" kindref="member">CUSTOMERINFO</ref><sp/>customer);</highlight></codeline>
<codeline lineno="48" refid="class_c_p_o_s_connection_1a398559997592b3172069859cc8a3f3a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a398559997592b3172069859cc8a3f3a1" kindref="member">ToDataSignature</ref>(<ref refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" kindref="member">CUSTOMERINFO</ref><sp/>customer);</highlight></codeline>
<codeline lineno="49" refid="class_c_p_o_s_connection_1a5d9f5a544a612aedda1371686d33b736" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CStringA<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a5d9f5a544a612aedda1371686d33b736" kindref="member">UTF8Encode</ref>(LPCTSTR<sp/>lpszData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nLength);</highlight></codeline>
<codeline lineno="50" refid="class_c_p_o_s_connection_1a91a854b8a5a314f59c4a1f9552737d95" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CStringW<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a91a854b8a5a314f59c4a1f9552737d95" kindref="member">UTF8Decode</ref>(LPCSTR<sp/>lpszData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nLength);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="52" refid="class_c_p_o_s_connection_1a78ddfab49235b95ae4fff663fd5bc6f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a78ddfab49235b95ae4fff663fd5bc6f7" kindref="member">SHA256Encode</ref>(LPCTSTR<sp/>szData);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="class_c_p_o_s_connection_1a209e17f23e85615fe9e9953dd49c51d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a209e17f23e85615fe9e9953dd49c51d3" kindref="member">m_szData</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="class_c_p_o_s_connection_1a87edbd5c6b83bddc3159a7e7054ba8d2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_comm" kindref="compound">CPOSComm</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a87edbd5c6b83bddc3159a7e7054ba8d2" kindref="member">m_CommPort</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="61" refid="class_c_p_o_s_connection_1a1671d87f3e58d0af0563eccba84ebcf7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CStringArray<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a1671d87f3e58d0af0563eccba84ebcf7" kindref="member">m_resCodes</ref>;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="class_c_p_o_s_connection_1a46e102e45ad8204705e8129ff873350f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a46e102e45ad8204705e8129ff873350f" kindref="member">m_szHost</ref>;</highlight></codeline>
<codeline lineno="64" refid="class_c_p_o_s_connection_1acb333486b4a60fb65163083c6f0ad5da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1acb333486b4a60fb65163083c6f0ad5da" kindref="member">m_nPort</ref>;</highlight></codeline>
<codeline lineno="65" refid="class_c_p_o_s_connection_1ab3a5eeb0f89b98e49516f27d7673eed0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1ab3a5eeb0f89b98e49516f27d7673eed0" kindref="member">m_szAPIFunction</ref>;</highlight></codeline>
<codeline lineno="66" refid="class_c_p_o_s_connection_1afbad749b949580d4c512b373d6e8d2d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1afbad749b949580d4c512b373d6e8d2d7" kindref="member">m_szClientID</ref>;</highlight></codeline>
<codeline lineno="67" refid="class_c_p_o_s_connection_1a2f8feb8336475cbac7d88f0d4212b180" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a2f8feb8336475cbac7d88f0d4212b180" kindref="member">m_szSecretKey</ref>;</highlight></codeline>
<codeline lineno="68" refid="class_c_p_o_s_connection_1a7dbe996ea960a8b9881f8d543e45ebc6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a7dbe996ea960a8b9881f8d543e45ebc6" kindref="member">m_szError</ref>;</highlight></codeline>
<codeline lineno="69" refid="class_c_p_o_s_connection_1ab09d653e978efd58ef7655c266fb0969" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1ab09d653e978efd58ef7655c266fb0969" kindref="member">m_szDeviceSessionCode</ref>;</highlight></codeline>
<codeline lineno="70" refid="class_c_p_o_s_connection_1a5caac34aff0ed71d696c25c30f9a79a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a5caac34aff0ed71d696c25c30f9a79a6" kindref="member">m_bHasCommPort</ref>;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73" refid="class_c_p_o_s_connection_1a3bbb2652a33510e8606d2534b8b4f6b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a3bbb2652a33510e8606d2534b8b4f6b5" kindref="member">CPOSConnection</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="74" refid="class_c_p_o_s_connection_1a2e9197aaf77a51a75dbcaeaef956b71c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a2e9197aaf77a51a75dbcaeaef956b71c" kindref="member">~CPOSConnection</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="class_c_p_o_s_connection_1a6d387ebdc633344d7e8567b921dfe02d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a6d387ebdc633344d7e8567b921dfe02d" kindref="member">Init</ref>(LPCTSTR<sp/>szHost,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPort,<sp/><sp/>LPCTSTR<sp/>szClientID,<sp/>LPCTSTR<sp/>szSecretKey);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="78" refid="class_c_p_o_s_connection_1adcae5ecd256be72e0c8e598a91d31f99" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1adcae5ecd256be72e0c8e598a91d31f99" kindref="member">GetLastError</ref>();</highlight></codeline>
<codeline lineno="79" refid="class_c_p_o_s_connection_1afd40f01b25770a2f8b216b02c4d2d04a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1afd40f01b25770a2f8b216b02c4d2d04a" kindref="member">GetData</ref>();</highlight></codeline>
<codeline lineno="80" refid="class_c_p_o_s_connection_1a11731cca54d9cd15db85c1743b867a9e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a11731cca54d9cd15db85c1743b867a9e" kindref="member">SendRequest</ref>(LPCTSTR<sp/>szURL,<sp/>CString<sp/>szArgs,<sp/>CString&amp;<sp/>szResponse,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nType=CHttpConnection::HTTP_VERB_GET);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="class_c_p_o_s_connection_1a8635e7a33a5804276a945a403a126910" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a8635e7a33a5804276a945a403a126910" kindref="member">GetHost</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_p_o_s_connection_1a46e102e45ad8204705e8129ff873350f" kindref="member">m_szHost</ref>;}<sp/></highlight></codeline>
<codeline lineno="83" refid="class_c_p_o_s_connection_1a0540edac3553ce4a73f5327c78c3be0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a0540edac3553ce4a73f5327c78c3be0e" kindref="member">GetPort</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_p_o_s_connection_1acb333486b4a60fb65163083c6f0ad5da" kindref="member">m_nPort</ref>;<sp/>}</highlight></codeline>
<codeline lineno="84" refid="class_c_p_o_s_connection_1a8946cc409cfa91056e19e8d20bcd0e64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a8946cc409cfa91056e19e8d20bcd0e64" kindref="member">GetClientID</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_p_o_s_connection_1afbad749b949580d4c512b373d6e8d2d7" kindref="member">m_szClientID</ref>;<sp/>}</highlight></codeline>
<codeline lineno="85" refid="class_c_p_o_s_connection_1a8c7773e85f086c89c394b244326d45c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a8c7773e85f086c89c394b244326d45c1" kindref="member">GetSecretKey</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_p_o_s_connection_1a2f8feb8336475cbac7d88f0d4212b180" kindref="member">m_szSecretKey</ref>;<sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Ham<sp/>lay<sp/>ma<sp/>ket<sp/>noi<sp/>thiet<sp/>bi<sp/>hien<sp/>tai</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Ma<sp/>duoc<sp/>lay<sp/>truoc<sp/>do<sp/>va<sp/>luu<sp/>vao<sp/>registry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="class_c_p_o_s_connection_1a67e40ccb5a26eca91ce782a1981817b9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a67e40ccb5a26eca91ce782a1981817b9" kindref="member">GetDeviceSessionCode</ref>();</highlight></codeline>
<codeline lineno="90" refid="class_c_p_o_s_connection_1a27c71c4d14de1e96d074dc754faa5b29" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CString<sp/><ref refid="class_c_p_o_s_connection_1a27c71c4d14de1e96d074dc754faa5b29" kindref="member">GetNewDeviceSessionCode</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nDeviceType<sp/>=<sp/><ref refid="_p_o_s_connection_8h_1a39eb45e74103cd12040f759708c982e7" kindref="member">DEVICE_ACTIVE</ref>);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//HAM<sp/>PHAT<sp/>HANH<sp/>THE<sp/>KHACH<sp/>HANG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="class_c_p_o_s_connection_1aad475f481815c37b42ee13ad2c31c7d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1aad475f481815c37b42ee13ad2c31c7d3" kindref="member">ActiveCard</ref>(<ref refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" kindref="member">CUSTOMERINFO</ref><sp/>customer);</highlight></codeline>
<codeline lineno="95" refid="class_c_p_o_s_connection_1a950a14a9c36c221cbb7845205b0e75e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a950a14a9c36c221cbb7845205b0e75e1" kindref="member">GetCustomerInformation</ref>(CString<sp/>szCardCode,<sp/>CString<sp/>szServiceCode,<sp/>CString<sp/>szIdentifyNumber);</highlight></codeline>
<codeline lineno="96" refid="class_c_p_o_s_connection_1a729619b910d186c41f93aa670105c759" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a729619b910d186c41f93aa670105c759" kindref="member">Invoke</ref>(CString<sp/>szDescription);</highlight></codeline>
<codeline lineno="97" refid="class_c_p_o_s_connection_1a4c31c9d1af8e2b6d4cace9e60854b27b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a4c31c9d1af8e2b6d4cace9e60854b27b" kindref="member">OnActiveNewCard</ref>(<ref refid="_p_o_s_connection_8h_1a3a8c0822c7ed2608ed7480e9febd0eb5" kindref="member">CUSTOMERINFO</ref><sp/>customer);</highlight></codeline>
<codeline lineno="98" refid="class_c_p_o_s_connection_1ab496789a0a3b7a004faae21321682042" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1ab496789a0a3b7a004faae21321682042" kindref="member">Payment</ref>(CString<sp/>szTransactionID,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>nAmount,<sp/>CString<sp/>szDescription);</highlight></codeline>
<codeline lineno="99" refid="class_c_p_o_s_connection_1ace06c9b0fa0eedea52749f74ca5743a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1ace06c9b0fa0eedea52749f74ca5743a6" kindref="member">CancelPayment</ref>(CString<sp/>szTransactioID,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>nAmount,<sp/>CString<sp/>szDescription,<sp/>CString<sp/>szBillCode);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="class_c_p_o_s_connection_1ae84d89b21cda568c04bb0f1d13d542f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1ae84d89b21cda568c04bb0f1d13d542f6" kindref="member">ParseResponse</ref>(LPCTSTR<sp/>lpszResponse);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="class_c_p_o_s_connection_1a84e1e10446d6579501b313d08bf654c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a84e1e10446d6579501b313d08bf654c3" kindref="member">OpenPort</ref>(LPCTSTR<sp/>lpszPort);</highlight></codeline>
<codeline lineno="104" refid="class_c_p_o_s_connection_1a5cedc3155cb95b63392c9290d0c99f99" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_p_o_s_connection_1a5cedc3155cb95b63392c9290d0c99f99" kindref="member">ClosePort</ref>();</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal">};</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="_p_o_s_connection_8h_1a53abdf3091ede4be7b7f02d200de8f09" refkind="member"><highlight class="normal">CString<sp/><ref refid="_p_o_s_connection_8h_1a53abdf3091ede4be7b7f02d200de8f09" kindref="member">Date2Number</ref>(LPCTSTR<sp/>lpszDate);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="Include/HMSCore/POSConnection.h"/>
  </compounddef>
</doxygen>
