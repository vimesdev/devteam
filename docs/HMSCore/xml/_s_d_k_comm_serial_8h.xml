<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="vi">
  <compounddef id="_s_d_k_comm_serial_8h" kind="file" language="C++">
    <compoundname>SDKCommSerial.h</compoundname>
    <includes local="no">queue</includes>
    <includes local="no">afxmt.h</includes>
    <includes refid="_comm_defs_8h" local="yes">CommDefs.h</includes>
    <includes local="no">string</includes>
    <includedby refid="_p_o_s_comm_8h" local="yes">Include/HMSCore/POSComm.h</includedby>
    <incdepgraph>
      <node id="4">
        <label>CommDefs.h</label>
        <link refid="_comm_defs_8h"/>
      </node>
      <node id="1">
        <label>Include/HMSCore/SDKCommSerial.h</label>
        <link refid="_s_d_k_comm_serial_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>afxmt.h</label>
      </node>
      <node id="2">
        <label>queue</label>
      </node>
      <node id="5">
        <label>string</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="2">
        <label>Include/HMSCore/POSComm.h</label>
        <link refid="_p_o_s_comm_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>Include/HMSCore/POSConnection.h</label>
        <link refid="_p_o_s_connection_8h"/>
      </node>
      <node id="1">
        <label>Include/HMSCore/SDKCommSerial.h</label>
        <link refid="_s_d_k_comm_serial_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="class_c_s_d_k_comm_serial" prot="public">CSDKCommSerial</innerclass>
    <innerclass refid="struct_c_s_d_k_comm_serial_1_1_command_item" prot="public">CSDKCommSerial::CommandItem</innerclass>
    <sectiondef kind="define">
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1aabd8949a688c9a15a836839f29dd3b10" prot="public" static="no">
        <name>SIZE_INQ</name>
        <initializer>1152</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="10" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1ab41249a582174cf2423196807ce4956b" prot="public" static="no">
        <name>SIZE_OUTQ</name>
        <initializer>2048</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="11" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="11" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1a5576980e352d63d9a56b4050f239e6ca" prot="public" static="no">
        <name>MAX_READSIZE</name>
        <initializer>80L</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="12" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1af7a08c06d3b1d297a81e1c2538a8be85" prot="public" static="no">
        <name>WM_MODEM_READ_EVNT</name>
        <initializer>(WM_USER + 1001)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="15" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="15" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1a9304c7a183eb1f18e62131e255742b5d" prot="public" static="no">
        <name>WM_MODEM_DOWNLOAD</name>
        <initializer>(WM_USER + 1002)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="16" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="16" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1ac8031c5c2c526f4375d0716b5d8f726d" prot="public" static="no">
        <name>WM_MODEM_UPLOAD</name>
        <initializer>(WM_USER + 1003)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="17" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1abfd70ed0c6feb8a6fc9edad6a494b480" prot="public" static="no">
        <name>WM_MODEM_RUNORDER</name>
        <initializer>(WM_USER + 1004)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="18" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1ab8a40cfc3d7619a625862c772cdb6ea8" prot="public" static="no">
        <name>WM_MODEM_PERFORMORDER</name>
        <initializer>(WM_USER + 1005)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="19" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_s_d_k_comm_serial_8h_1a6b884fe3ed9d574b34fc78f05662887a" prot="public" static="no">
        <name>WM_RECEIVE_TEXT</name>
        <initializer>RegisterWindowMessage(_T(&quot;WM_RECEIVE_TEXT&quot;))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="26" column="9" bodyfile="Include/HMSCore/SDKCommSerial.h" bodystart="26" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="_s_d_k_comm_serial_8h_1a4a6478bb2da38a10852d3476196fa3d0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>DWORD WINAPI</type>
        <definition>DWORD WINAPI CommReadThread</definition>
        <argsstring>(void *pvData)</argsstring>
        <name>CommReadThread</name>
        <param>
          <type>void *</type>
          <declname>pvData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="23" column="15" declfile="Include/HMSCore/SDKCommSerial.h" declline="23" declcolumn="15"/>
      </memberdef>
      <memberdef kind="function" id="_s_d_k_comm_serial_8h_1ac0441b42e5f356aff37a91b5ec2cfe87" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>DWORD WINAPI</type>
        <definition>DWORD WINAPI CommWriteThread</definition>
        <argsstring>(void *pvData)</argsstring>
        <name>CommWriteThread</name>
        <param>
          <type>void *</type>
          <declname>pvData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="24" column="15" declfile="Include/HMSCore/SDKCommSerial.h" declline="24" declcolumn="15"/>
      </memberdef>
      <memberdef kind="function" id="_s_d_k_comm_serial_8h_1a78a733e02b5d16fcff0f4e69218aa40d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>DWORD WINAPI</type>
        <definition>DWORD WINAPI CSDKCommSerialThread</definition>
        <argsstring>(void *pvData)</argsstring>
        <name>CSDKCommSerialThread</name>
        <param>
          <type>void *</type>
          <declname>pvData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Include/HMSCore/SDKCommSerial.h" line="145" column="15" declfile="Include/HMSCore/SDKCommSerial.h" declline="145" declcolumn="15"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>CSDKCommSerial_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CSDKCommSerial_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;queue&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;afxmt.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_comm_defs_8h" kindref="compound">CommDefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="_s_d_k_comm_serial_8h_1aabd8949a688c9a15a836839f29dd3b10" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SIZE_INQ<sp/><sp/><sp/><sp/><sp/>1152</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11" refid="_s_d_k_comm_serial_8h_1ab41249a582174cf2423196807ce4956b" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SIZE_OUTQ<sp/><sp/><sp/><sp/>2048</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="_s_d_k_comm_serial_8h_1a5576980e352d63d9a56b4050f239e6ca" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAX_READSIZE<sp/>80L</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="_s_d_k_comm_serial_8h_1af7a08c06d3b1d297a81e1c2538a8be85" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_MODEM_READ_EVNT<sp/>(WM_USER<sp/>+<sp/>1001)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="_s_d_k_comm_serial_8h_1a9304c7a183eb1f18e62131e255742b5d" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_MODEM_DOWNLOAD<sp/>(WM_USER<sp/>+<sp/>1002)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="_s_d_k_comm_serial_8h_1ac8031c5c2c526f4375d0716b5d8f726d" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_MODEM_UPLOAD<sp/>(WM_USER<sp/>+<sp/>1003)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="_s_d_k_comm_serial_8h_1abfd70ed0c6feb8a6fc9edad6a494b480" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_MODEM_RUNORDER<sp/>(WM_USER<sp/>+<sp/>1004)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="_s_d_k_comm_serial_8h_1ab8a40cfc3d7619a625862c772cdb6ea8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_MODEM_PERFORMORDER<sp/>(WM_USER<sp/>+<sp/>1005)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="_s_d_k_comm_serial_8h_1a4a6478bb2da38a10852d3476196fa3d0" refkind="member"><highlight class="normal">DWORD<sp/><sp/>WINAPI<sp/><ref refid="_s_d_k_comm_serial_8h_1a4a6478bb2da38a10852d3476196fa3d0" kindref="member">CommReadThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pvData);</highlight></codeline>
<codeline lineno="24" refid="_s_d_k_comm_serial_8h_1ac0441b42e5f356aff37a91b5ec2cfe87" refkind="member"><highlight class="normal">DWORD<sp/><sp/>WINAPI<sp/><ref refid="_s_d_k_comm_serial_8h_1ac0441b42e5f356aff37a91b5ec2cfe87" kindref="member">CommWriteThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pvData);</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="_s_d_k_comm_serial_8h_1a6b884fe3ed9d574b34fc78f05662887a" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM_RECEIVE_TEXT<sp/>RegisterWindowMessage(_T(&quot;WM_RECEIVE_TEXT&quot;))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="class_c_s_d_k_comm_serial" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_s_d_k_comm_serial_1ac080b76c3739ed852fe6fad6428e7d37" kindref="member">CSDKCommSerial</ref></highlight></codeline>
<codeline lineno="29"><highlight class="normal">{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="31" refid="class_c_s_d_k_comm_serial_1a242d573840f2bcfa02711e98f4429ef8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a242d573840f2bcfa02711e98f4429ef8" kindref="member">m_nParity</ref>;</highlight></codeline>
<codeline lineno="32" refid="class_c_s_d_k_comm_serial_1a05e20eb51ae55064151308d575fdc763" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a05e20eb51ae55064151308d575fdc763" kindref="member">m_nStopBits</ref>;</highlight></codeline>
<codeline lineno="33" refid="class_c_s_d_k_comm_serial_1aa40c1fbe8bcdc94ea28e02a019f5310f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1aa40c1fbe8bcdc94ea28e02a019f5310f" kindref="member">m_nFlowControl</ref>;</highlight></codeline>
<codeline lineno="34" refid="class_c_s_d_k_comm_serial_1a7e2b4984074af8dd5b59e99b6aa80058" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DWORD<sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a7e2b4984074af8dd5b59e99b6aa80058" kindref="member">m_dwBaudrate</ref>;</highlight></codeline>
<codeline lineno="35" refid="class_c_s_d_k_comm_serial_1a314802b31d6a8b5a34a86910522b4fe0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a314802b31d6a8b5a34a86910522b4fe0" kindref="member">m_nDataBits</ref>;</highlight></codeline>
<codeline lineno="36" refid="class_c_s_d_k_comm_serial_1a192d8c4c806659c495f09b435ea7c288" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a192d8c4c806659c495f09b435ea7c288" kindref="member">m_nHanshaking</ref>;</highlight></codeline>
<codeline lineno="37" refid="class_c_s_d_k_comm_serial_1a1a923db4c26be08e31337b249ceed83a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a1a923db4c26be08e31337b249ceed83a" kindref="member">m_bLog</ref>;</highlight></codeline>
<codeline lineno="38" refid="class_c_s_d_k_comm_serial_1aebaf5394f3a79b2279c7b276ca17f505" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1aebaf5394f3a79b2279c7b276ca17f505" kindref="member">PortDeactivate</ref>();</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="class_c_s_d_k_comm_serial_1aa717f83fde75646698554c5c62bdc1e5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CWnd*<sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1aa717f83fde75646698554c5c62bdc1e5" kindref="member">m_pMainWnd</ref>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="43" refid="class_c_s_d_k_comm_serial_1af58c70be5d6111494b5f279828d8961d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>LONG<sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1af58c70be5d6111494b5f279828d8961d" kindref="member">m_nCount</ref>;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="class_c_s_d_k_comm_serial_1ac080b76c3739ed852fe6fad6428e7d37" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ac080b76c3739ed852fe6fad6428e7d37" kindref="member">CSDKCommSerial</ref>();</highlight></codeline>
<codeline lineno="46" refid="class_c_s_d_k_comm_serial_1a79c04328865d9e334e86933b4a13d43e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1a79c04328865d9e334e86933b4a13d43e" kindref="member">~CSDKCommSerial</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="47" refid="class_c_s_d_k_comm_serial_1ad1917c839d68d1c2fc26ef612f35f8f1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ad1917c839d68d1c2fc26ef612f35f8f1" kindref="member">Close</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="48" refid="class_c_s_d_k_comm_serial_1a8899aa99ea2da9e09fb750c75a300aa2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a8899aa99ea2da9e09fb750c75a300aa2" kindref="member">Write</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>sBuffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nLength);</highlight></codeline>
<codeline lineno="49" refid="class_c_s_d_k_comm_serial_1a1189f0beaf2d171af2cef129c4cd1bbd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a1189f0beaf2d171af2cef129c4cd1bbd" kindref="member">SendBuffer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>sBuffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nLength);</highlight></codeline>
<codeline lineno="50" refid="class_c_s_d_k_comm_serial_1a6c7ba6231ec4e89be8624b37cd50c7a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a6c7ba6231ec4e89be8624b37cd50c7a6" kindref="member">ExecuteNextCommand</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="class_c_s_d_k_comm_serial_1a09af6ae9b3d275878f89b064838a67d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a09af6ae9b3d275878f89b064838a67d3" kindref="member">Open</ref>(CString<sp/>szPort);</highlight></codeline>
<codeline lineno="53" refid="class_c_s_d_k_comm_serial_1a6e7d2bc891b3485af0dbdf07421edb6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a6e7d2bc891b3485af0dbdf07421edb6d" kindref="member">StartThreads</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="54" refid="class_c_s_d_k_comm_serial_1a59d537cd38190a255dd78b9db6d15e3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a59d537cd38190a255dd78b9db6d15e3e" kindref="member">Initialize</ref>(CWnd<sp/>*pWnd);</highlight></codeline>
<codeline lineno="55" refid="class_c_s_d_k_comm_serial_1adf6e00425faef2c6c4bf6edcd45ce1e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1adf6e00425faef2c6c4bf6edcd45ce1e2" kindref="member">PortConfigure</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="56" refid="class_c_s_d_k_comm_serial_1a05b052a047a7a8369db522548f9b8b45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a05b052a047a7a8369db522548f9b8b45" kindref="member">Settings</ref>(DWORD<sp/>dwBaudrate,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nDatabit,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPartity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nStopbit);</highlight></codeline>
<codeline lineno="57" refid="class_c_s_d_k_comm_serial_1af8d7919ce7d1b74f19424975ef09c48b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1af8d7919ce7d1b74f19424975ef09c48b" kindref="member">IsConnected</ref>();</highlight></codeline>
<codeline lineno="58" refid="class_c_s_d_k_comm_serial_1a1d4219a1dc730cf008e1f4a575b1d0d2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a1d4219a1dc730cf008e1f4a575b1d0d2" kindref="member">Lock</ref>();</highlight></codeline>
<codeline lineno="59" refid="class_c_s_d_k_comm_serial_1accc135615ddeb66e0a873ff68d7c2537" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1accc135615ddeb66e0a873ff68d7c2537" kindref="member">UnLock</ref>();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61" refid="class_c_s_d_k_comm_serial_1ab45bc50dc97c647da62608947d473b35" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ab45bc50dc97c647da62608947d473b35" kindref="member">GetBaudrate</ref>();</highlight></codeline>
<codeline lineno="62" refid="class_c_s_d_k_comm_serial_1ae3b9ac9ba8bcea493a1924ebfc85c710" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ae3b9ac9ba8bcea493a1924ebfc85c710" kindref="member">GetDataBits</ref>();</highlight></codeline>
<codeline lineno="63" refid="class_c_s_d_k_comm_serial_1a4fac4ae7dfb4a773ecf338a89b142c2c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a4fac4ae7dfb4a773ecf338a89b142c2c" kindref="member">GetStopBits</ref>();</highlight></codeline>
<codeline lineno="64" refid="class_c_s_d_k_comm_serial_1a5f109aca6d8f564ec98c5b540009cb19" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a5f109aca6d8f564ec98c5b540009cb19" kindref="member">GetParity</ref>();</highlight></codeline>
<codeline lineno="65" refid="class_c_s_d_k_comm_serial_1ac48c8e81640ac896a419e1d40785ac91" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ac48c8e81640ac896a419e1d40785ac91" kindref="member">GetHanshaking</ref>();</highlight></codeline>
<codeline lineno="66" refid="class_c_s_d_k_comm_serial_1a9a5b65c8a58c9882ab4a7be6bb4bd636" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a9a5b65c8a58c9882ab4a7be6bb4bd636" kindref="member">EnableLog</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bFlag);</highlight></codeline>
<codeline lineno="67" refid="class_c_s_d_k_comm_serial_1ab1a6c4f0d3e4ec1e992e5a4bd98d93b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ab1a6c4f0d3e4ec1e992e5a4bd98d93b3" kindref="member">IsEnableLog</ref>();</highlight></codeline>
<codeline lineno="68" refid="class_c_s_d_k_comm_serial_1a9bc96c83de69c7daa11fa5b2d60bb6a8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1a9bc96c83de69c7daa11fa5b2d60bb6a8" kindref="member">DoBackground</ref>(){}</highlight></codeline>
<codeline lineno="69" refid="class_c_s_d_k_comm_serial_1abf437fd4b01908dc746c894eb05dddee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1abf437fd4b01908dc746c894eb05dddee" kindref="member">OnExit</ref>(){}</highlight></codeline>
<codeline lineno="70" refid="class_c_s_d_k_comm_serial_1aebaced4302c9b7306618a839f98ee5c0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1aebaced4302c9b7306618a839f98ee5c0" kindref="member">OnReceive</ref>(BYTE*<sp/>lpBuf,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nSize){}</highlight></codeline>
<codeline lineno="71" refid="class_c_s_d_k_comm_serial_1a2000519b9ca057816d3a0eb1ef4381b9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1a2000519b9ca057816d3a0eb1ef4381b9" kindref="member">OnTimeOut</ref>(){<sp/>}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="class_c_s_d_k_comm_serial_1ac1ec1257e60726db6e8bca8e29481597" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>UINT<sp/><ref refid="class_c_s_d_k_comm_serial_1ac1ec1257e60726db6e8bca8e29481597" kindref="member">ReaderThread</ref>(LPVOID<sp/>pParam);</highlight></codeline>
<codeline lineno="75" refid="class_c_s_d_k_comm_serial_1a975657e4c5d366189d9adefc3341cfde" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>UINT<sp/><ref refid="class_c_s_d_k_comm_serial_1a975657e4c5d366189d9adefc3341cfde" kindref="member">WriterThread</ref>(LPVOID<sp/>pParam);</highlight></codeline>
<codeline lineno="76" refid="class_c_s_d_k_comm_serial_1ab836df03f67a375d6f4a101fee500fb2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DWORD<sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ab836df03f67a375d6f4a101fee500fb2" kindref="member">OnReaderThread</ref>();</highlight></codeline>
<codeline lineno="77" refid="class_c_s_d_k_comm_serial_1ae86356831ae37250f46c9b7b6c9b2fad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ae86356831ae37250f46c9b7b6c9b2fad" kindref="member">OnNotify</ref>(<ref refid="_comm_defs_8h_1abfb80eb1f0c87c3b01ef15be485de626" kindref="member">COM_EVENTS</ref><sp/>event);</highlight></codeline>
<codeline lineno="78" refid="struct_c_s_d_k_comm_serial_1_1_command_item" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_c_s_d_k_comm_serial_1_1_command_item" kindref="compound">CommandItem</ref><sp/></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="80" refid="struct_c_s_d_k_comm_serial_1_1_command_item_1a215e6e3b4eb999f58c675ac5e67fdee9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="struct_c_s_d_k_comm_serial_1_1_command_item_1a215e6e3b4eb999f58c675ac5e67fdee9" kindref="member">sATCommand</ref>;<sp/></highlight></codeline>
<codeline lineno="81" refid="struct_c_s_d_k_comm_serial_1_1_command_item_1a1142cc6d8f825605ce41484597824971" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="struct_c_s_d_k_comm_serial_1_1_command_item_1a1142cc6d8f825605ce41484597824971" kindref="member">iNumberOfRetry</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="class_c_s_d_k_comm_serial_1a40cf31585e6db677afeb04bd3aacb0a3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::queue&lt;CommandItem&gt;<sp/><ref refid="class_c_s_d_k_comm_serial_1a40cf31585e6db677afeb04bd3aacb0a3" kindref="member">m_qCommandsQueue</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="class_c_s_d_k_comm_serial_1acf9d5902e60e0d08534b789845ee0be3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1acf9d5902e60e0d08534b789845ee0be3" kindref="member">m_bConnected</ref>;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="class_c_s_d_k_comm_serial_1ad074afa13e28869cde9e43dd51990bfe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ad074afa13e28869cde9e43dd51990bfe" kindref="member">m_hCOMPort</ref>;</highlight></codeline>
<codeline lineno="90" refid="class_c_s_d_k_comm_serial_1a3c5afc9c56d2aa9ea136ebee48ba245a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><ref refid="class_c_s_d_k_comm_serial_1a3c5afc9c56d2aa9ea136ebee48ba245a" kindref="member">m_pReaderThread</ref>;</highlight></codeline>
<codeline lineno="91" refid="class_c_s_d_k_comm_serial_1afed48925b583b2089e49e453516d35f1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><ref refid="class_c_s_d_k_comm_serial_1afed48925b583b2089e49e453516d35f1" kindref="member">m_pWriteThread</ref>;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="class_c_s_d_k_comm_serial_1a11ef43701f82f5171519f3887c9070e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CCriticalSection<sp/><ref refid="class_c_s_d_k_comm_serial_1a11ef43701f82f5171519f3887c9070e1" kindref="member">m_cs</ref>;</highlight></codeline>
<codeline lineno="94" refid="class_c_s_d_k_comm_serial_1a650903c9606594aea7836e89f6208692" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DCB<sp/><ref refid="class_c_s_d_k_comm_serial_1a650903c9606594aea7836e89f6208692" kindref="member">originaldcb</ref>;</highlight></codeline>
<codeline lineno="95" refid="class_c_s_d_k_comm_serial_1ac9b70138dce6390e20321526d31a8f31" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>OVERLAPPED<sp/><ref refid="class_c_s_d_k_comm_serial_1ac9b70138dce6390e20321526d31a8f31" kindref="member">m_oReaderThreadExit</ref>;<sp/></highlight></codeline>
<codeline lineno="96" refid="class_c_s_d_k_comm_serial_1a5d63efd3a92a10e90e7793ff076e066e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>OVERLAPPED<sp/><ref refid="class_c_s_d_k_comm_serial_1a5d63efd3a92a10e90e7793ff076e066e" kindref="member">m_oWriterThreadExit</ref>;</highlight></codeline>
<codeline lineno="97" refid="class_c_s_d_k_comm_serial_1aa05ce7e8f9fe768b987faab601d7811a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>OVERLAPPED<sp/><ref refid="class_c_s_d_k_comm_serial_1aa05ce7e8f9fe768b987faab601d7811a" kindref="member">m_oWriteNextCommandInQueue</ref>;</highlight></codeline>
<codeline lineno="98" refid="class_c_s_d_k_comm_serial_1aa3f7abc3928cb4dd695b53dc02808828" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>COMMTIMEOUTS<sp/><ref refid="class_c_s_d_k_comm_serial_1aa3f7abc3928cb4dd695b53dc02808828" kindref="member">originalcommtimeouts</ref>;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Define<sp/>commstd</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102" refid="class_c_s_d_k_comm_serial_1a386de91db88b30aab960d6292b17fcd2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a386de91db88b30aab960d6292b17fcd2" kindref="member">m_hComstdThread</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Thread<sp/>to<sp/>handle<sp/>ongoing<sp/>activity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="class_c_s_d_k_comm_serial_1a90fe5ccca08cc86c3eb49d73c17ae8b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a90fe5ccca08cc86c3eb49d73c17ae8b5" kindref="member">m_fHaltThread</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>control<sp/>when<sp/>thread<sp/>shuts<sp/>down</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Data<sp/>access<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="class_c_s_d_k_comm_serial_1a78f5d83568b1adfab82168ce505e6665" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>CRITICAL_SECTION<sp/><ref refid="class_c_s_d_k_comm_serial_1a78f5d83568b1adfab82168ce505e6665" kindref="member">m_csect</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>synchronize<sp/>access<sp/>to<sp/>driver<sp/>vars.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="class_c_s_d_k_comm_serial_1adaf6ec349bf6626bf936b8b16dd881f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1adaf6ec349bf6626bf936b8b16dd881f4" kindref="member">m_ahEvent</ref>[<ref refid="_comm_defs_8h_1a25425ecb642d0c2357851329b8ea1c88" kindref="member">EVENT_COUNT</ref>];<sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>control<sp/>scheduling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Control<sp/>fields<sp/>for<sp/>receiving</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="class_c_s_d_k_comm_serial_1ac8bca8bf1534f6c790fc313a8f0f6dba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ac8bca8bf1534f6c790fc313a8f0f6dba" kindref="member">m_nRBufrSize</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Size<sp/>of<sp/>receive<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="class_c_s_d_k_comm_serial_1a0cff43a6f5d07136aae30fb2658a9b36" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1a0cff43a6f5d07136aae30fb2658a9b36" kindref="member">m_pbBufrStart</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Address<sp/>of<sp/>receive<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="class_c_s_d_k_comm_serial_1a821e1a3d0b532d0ed4291d676c3ab0b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1a821e1a3d0b532d0ed4291d676c3ab0b5" kindref="member">m_pbBufrEnd</ref>;</highlight></codeline>
<codeline lineno="111" refid="class_c_s_d_k_comm_serial_1a4d477ece4c316a1b40938683641e4f3c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1a4d477ece4c316a1b40938683641e4f3c" kindref="member">m_pbReadEnd</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Where<sp/>read<sp/>thread<sp/>left<sp/>off</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="class_c_s_d_k_comm_serial_1af5b6c0133226e60208fd8b64d82fba80" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1af5b6c0133226e60208fd8b64d82fba80" kindref="member">m_pbComStart</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Marks<sp/>area<sp/>being<sp/>unloaded<sp/>by<sp/>main<sp/>Com</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="class_c_s_d_k_comm_serial_1acb2963ba939f815f46645b1c4206aa7d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1acb2963ba939f815f46645b1c4206aa7d" kindref="member">m_pbComEnd</ref>;</highlight></codeline>
<codeline lineno="114" refid="class_c_s_d_k_comm_serial_1a44f1b9a15e51285602bc8e5094b6c306" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a44f1b9a15e51285602bc8e5094b6c306" kindref="member">m_fBufrFull</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>True<sp/>when<sp/>driver<sp/>buffers<sp/>are<sp/>full</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="class_c_s_d_k_comm_serial_1a21f2ca92055dd0c3f34909db652d24fb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a21f2ca92055dd0c3f34909db652d24fb" kindref="member">m_fBufrEmpty</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>True<sp/>when<sp/>driver<sp/>buffers<sp/>are<sp/>empty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Control<sp/>fields<sp/>for<sp/>sending</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="class_c_s_d_k_comm_serial_1a6e0d0a4879b975ffb3948a26eeff0dc9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DWORD<sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a6e0d0a4879b975ffb3948a26eeff0dc9" kindref="member">m_dwBytesToSend</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Number<sp/>of<sp/>bytes<sp/>pending<sp/>for<sp/>write</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="class_c_s_d_k_comm_serial_1a37484d8f690863b7230fc3e3d406a95d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DWORD<sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a37484d8f690863b7230fc3e3d406a95d" kindref="member">m_dwSndOffset</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Offset<sp/>into<sp/>send<sp/>buffer<sp/>for<sp/>write</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="class_c_s_d_k_comm_serial_1af99ab4f7a5dc2a1b98b8781f71e775e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BYTE<sp/><sp/><sp/>*<ref refid="class_c_s_d_k_comm_serial_1af99ab4f7a5dc2a1b98b8781f71e775e8" kindref="member">m_pbSndBufr</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Buffer<sp/>used<sp/>by<sp/>pending<sp/>write<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="class_c_s_d_k_comm_serial_1afd763347100d31b89039296bb7545a0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1afd763347100d31b89039296bb7545a0e" kindref="member">m_fBreakSignalOn</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TRUE<sp/>while<sp/>sending<sp/>break<sp/>signal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124" refid="class_c_s_d_k_comm_serial_1a43e1762f4acebe862faaf203924d4632" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a43e1762f4acebe862faaf203924d4632" kindref="member">m_fNotifyRcv</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TRUE<sp/>if<sp/>driver<sp/>should<sp/>send<sp/>notification</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125" refid="class_c_s_d_k_comm_serial_1acf85a65532ad69676ddf9f5ba6d29fa5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DWORD<sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1acf85a65532ad69676ddf9f5ba6d29fa5" kindref="member">m_dwEventMask</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Mask<sp/>used<sp/>in<sp/>Set/GetCommEventmask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="class_c_s_d_k_comm_serial_1ae4d21557f7905a67f2cc89850f7b8c46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1ae4d21557f7905a67f2cc89850f7b8c46" kindref="member">m_fSending</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TRUE<sp/>if<sp/>we&apos;ve<sp/>sent<sp/>a<sp/>buffer<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="class_c_s_d_k_comm_serial_1aba7449074f795fdf2c00820190106b5a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1aba7449074f795fdf2c00820190106b5a" kindref="member">m_lSndTimer</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>started<sp/>when<sp/>we<sp/>issue<sp/>a<sp/>WriteComm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128" refid="class_c_s_d_k_comm_serial_1a3117a0cab37ef815bd39bc41277865db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a3117a0cab37ef815bd39bc41277865db" kindref="member">m_lSndLimit</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>amt.<sp/>of<sp/>time<sp/>to<sp/>wait<sp/>for<sp/>send</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="class_c_s_d_k_comm_serial_1a7301cc599b71813b60888d1bdb2983a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1a7301cc599b71813b60888d1bdb2983a5" kindref="member">m_lSndStuck</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>amt.<sp/>of<sp/>time<sp/>we&apos;ve<sp/>been<sp/>waiting<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>handshaking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="class_c_s_d_k_comm_serial_1ab475f854a8f6419960ba893e96013dc6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>OVERLAPPED<sp/><ref refid="class_c_s_d_k_comm_serial_1ab475f854a8f6419960ba893e96013dc6" kindref="member">m_stWriteOv</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135" refid="class_c_s_d_k_comm_serial_1aeeb3d99d3a89a739b526bea5084a7879" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1aeeb3d99d3a89a739b526bea5084a7879" kindref="member">RcvRefill</ref>();</highlight></codeline>
<codeline lineno="136" refid="class_c_s_d_k_comm_serial_1a25c406de8e37be57f4bccc4ebfa1b9e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1a25c406de8e37be57f4bccc4ebfa1b9e7" kindref="member">RcvClear</ref>();</highlight></codeline>
<codeline lineno="137" refid="class_c_s_d_k_comm_serial_1a8f1f5b5fe305108c403aae0b6f1f3e5c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1a8f1f5b5fe305108c403aae0b6f1f3e5c" kindref="member">SndBufrSend</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pvBufr,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/>nSize);</highlight></codeline>
<codeline lineno="138" refid="class_c_s_d_k_comm_serial_1aa9330a09259c4ab24d38e008ea06485b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1aa9330a09259c4ab24d38e008ea06485b" kindref="member">SndBufrIsBusy</ref>();</highlight></codeline>
<codeline lineno="139" refid="class_c_s_d_k_comm_serial_1ab307ed93ac74fb19ca76a93fa62536dd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1ab307ed93ac74fb19ca76a93fa62536dd" kindref="member">SndBufrQuery</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>*pafStatus,</highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*plHandshakeDelay);</highlight></codeline>
<codeline lineno="140" refid="class_c_s_d_k_comm_serial_1ab3f3224f9b4b8bcd34aa29f60ab966d4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_s_d_k_comm_serial_1ab3f3224f9b4b8bcd34aa29f60ab966d4" kindref="member">SndBufrClear</ref>();</highlight></codeline>
<codeline lineno="141" refid="class_c_s_d_k_comm_serial_1a5a555772c8873d5445b614fd7602a4c7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOL<sp/><ref refid="class_c_s_d_k_comm_serial_1a5a555772c8873d5445b614fd7602a4c7" kindref="member">WriteString</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>lpszString,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nLength);</highlight></codeline>
<codeline lineno="142" refid="class_c_s_d_k_comm_serial_1aef4c235ac89f552c5156ad9a2ac605fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_d_k_comm_serial_1aef4c235ac89f552c5156ad9a2ac605fd" kindref="member">Invoke</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTimeout<sp/>=<sp/>500);</highlight></codeline>
<codeline lineno="143"><highlight class="normal">};</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="_s_d_k_comm_serial_8h_1a78a733e02b5d16fcff0f4e69218aa40d" refkind="member"><highlight class="normal">DWORD<sp/><sp/>WINAPI<sp/><ref refid="_s_d_k_comm_serial_8h_1a78a733e02b5d16fcff0f4e69218aa40d" kindref="member">CSDKCommSerialThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*pvData);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="Include/HMSCore/SDKCommSerial.h"/>
  </compounddef>
</doxygen>
