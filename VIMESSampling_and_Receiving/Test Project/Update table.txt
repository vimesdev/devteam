    CREATE TABLE "VIMES"."HMS_SAMPLE_SCHEDULE_LINE" 
   ("HSSL_REFIDX" NUMBER(10,0), 
	"HSSL_GATE1" NVARCHAR2(15), 
	"HSSL_GATE2" NVARCHAR2(15), 
	"HSSL_GATE3" NVARCHAR2(15), 
	"HSSL_GATE4" NVARCHAR2(15), 
	"HSSL_GATE5" NVARCHAR2(15), 
	"HSSL_GATE6" NVARCHAR2(15), 
	"HSSL_GATE7" NVARCHAR2(15), 
	"HSSL_GATE8" NVARCHAR2(15), 
	"HSSL_USER1" NVARCHAR2(15), 
	"HSSL_USER2" NVARCHAR2(15), 
	"HSSL_USER3" NVARCHAR2(15), 
	"HSSL_USER4" NVARCHAR2(15),
        "HSSL_USER5" NVARCHAR2(15), 
	"HSSL_USER6" NVARCHAR2(15), 
	"HSSL_USER7" NVARCHAR2(15), 
	"HSSL_USER8" NVARCHAR2(15), 
	 PRIMARY KEY ("HSSL_REFIDX")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOLOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DBINDEX"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DBVIMES" ;
  
    CREATE TABLE "VIMES"."HMS_SAMPLE_SCHEDULE" 
   ("HSS_CREATEDBY" NVARCHAR2(15), 
	"HSS_CREATEDDATE" TIMESTAMP (6), 
	"HSS_UPDATEDBY" NVARCHAR2(15), 
	"HSS_UPDATEDDATE" TIMESTAMP (6), 
	"HSS_IDX" NUMBER(10,0), 
	"HSS_STARTTIME" TIMESTAMP (6), 
	"HSS_ENDTIME" TIMESTAMP (6),
    "HSS_STARTTIME1" TIMESTAMP (6), 
	"HSS_ENDTIME1" TIMESTAMP (6), 
    "HSS_DEPT" NVARCHAR2(55),
    "HSS_DUTY" NVARCHAR2(1),
	"HSS_STATUS" NVARCHAR2(1), 
	 PRIMARY KEY ("HSS_IDX")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOLOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DBINDEX"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DBVIMES" ;

  CREATE OR REPLACE TRIGGER "VIMES"."HMS_SAMPLE_SCHED_HSS_IDX_ATR" 
BEFORE INSERT ON hms_sample_schedule
FOR EACH ROW
DECLARE
max_id NUMBER;
cur_asq NUMBER;
BEGIN
IF :new.hss_idx IS NULL THEN
  SELECT hms_sample_sched_hss_idx_asq.nextval INTO :new.hss_idx FROM DUAL;
ELSE
  SELECT GREATEST(NVL(MAX(hss_idx), 0), :new.hss_idx) INTO max_id FROM hms_sample_schedule;
  SELECT hms_sample_sched_hss_idx_asq.nextval INTO cur_asq FROM DUAL;
  WHILE cur_asq < max_id
  LOOP
    SELECT hms_sample_sched_hss_idx_asq.nextval INTO cur_asq FROM DUAL;
  END LOOP;
END IF;
END;


/
ALTER TRIGGER "VIMES"."HMS_SAMPLE_SCHED_HSS_IDX_ATR" ENABLE;
   CREATE SEQUENCE  "VIMES"."HMS_SAMPLE_SCHED_HSS_IDX_ASQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 18142 CACHE 20 NOORDER  NOCYCLE ;
